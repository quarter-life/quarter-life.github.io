(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{581:function(s,t,n){"use strict";n.r(t);var a=n(13),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"å‰è¨€"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),n("blockquote",[n("p",[s._v("è¿™æ˜¯ â€œPython å·¥åŒ â€ç³»åˆ—çš„ç¬¬ 12 ç¯‡æ–‡ç« ã€‚"),n("a",{attrs:{href:"https://github.com/piglei/one-python-craftsman",target:"_blank",rel:"noopener noreferrer"}},[s._v("[æŸ¥çœ‹ç³»åˆ—æ‰€æœ‰æ–‡ç« ]"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("Python æ˜¯ä¸€é—¨æ”¯æŒå¤šç§ç¼–ç¨‹é£æ ¼çš„è¯­è¨€ï¼Œé¢å¯¹ç›¸åŒçš„éœ€æ±‚ï¼Œæ‹¥æœ‰ä¸åŒèƒŒæ™¯çš„ç¨‹åºå‘˜å¯èƒ½ä¼šå†™å‡ºé£æ ¼è¿¥å¼‚çš„ Python ä»£ç ã€‚æ¯”å¦‚ä¸€ä½ä¹ æƒ¯ç¼–å†™ C è¯­è¨€çš„ç¨‹åºå‘˜ï¼Œé€šå¸¸ä¼šå®šä¹‰ä¸€å¤§å †å‡½æ•°æ¥æå®šæ‰€æœ‰äº‹æƒ…ï¼Œè¿™æ˜¯"),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Procedural_programming",target:"_blank",rel:"noopener noreferrer"}},[s._v("â€œè¿‡ç¨‹å¼ç¼–ç¨‹â€"),n("OutboundLink")],1),s._v("çš„æ€æƒ³ã€‚è€Œä¸€ä½æœ‰ Java èƒŒæ™¯çš„ç¨‹åºå‘˜åˆ™æ›´å€¾å‘äºè®¾è®¡è®¸å¤šä¸ªç›¸äº’å…³è”çš„ç±»*ï¼ˆclassï¼‰*ï¼Œè¿™æ˜¯ "),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Object-oriented_programming",target:"_blank",rel:"noopener noreferrer"}},[s._v("â€œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆåç®€ç§° OOPï¼‰â€"),n("OutboundLink")],1),s._v("ã€‚")]),s._v(" "),n("p",[s._v("è™½ç„¶ä¸åŒçš„ç¼–ç¨‹é£æ ¼å„æœ‰ç‰¹ç‚¹ï¼Œæ— æ³•ç›´æ¥æ¯”è¾ƒã€‚ä½†æ˜¯ OOP æ€æƒ³åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­èµ·åˆ°çš„é‡è¦ä½œç”¨åº”è¯¥æ˜¯æ¯‹åº¸ç½®ç–‘çš„ã€‚")]),s._v(" "),n("p",[s._v("å¾ˆå¤šäººåœ¨å­¦ä¹ å¦‚ä½•å†™å¥½ OOP ä»£ç æ—¶ï¼Œä¼šé€‰æ‹©ä»é‚£ "),n("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F_(%E8%AE%A1%E7%AE%97%E6%9C%BA)",target:"_blank",rel:"noopener noreferrer"}},[s._v("23 ç§ç»å…¸çš„â€œè®¾è®¡æ¨¡å¼â€"),n("OutboundLink")],1),s._v("å¼€å§‹ã€‚ä¸è¿‡å¯¹äº Python ç¨‹åºå‘˜æ¥è¯´ï¼Œæˆ‘è®¤ä¸ºè¿™å¹¶éæ˜¯ä¸€ä¸ªæœ€ä½³é€‰æ‹©ã€‚")]),s._v(" "),n("h3",{attrs:{id:"python-å¯¹-oop-çš„æ”¯æŒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#python-å¯¹-oop-çš„æ”¯æŒ"}},[s._v("#")]),s._v(" Python å¯¹ OOP çš„æ”¯æŒ")]),s._v(" "),n("p",[s._v("Python è¯­è¨€è™½ç„¶æ‹¥æœ‰ç±»ã€ç»§æ‰¿ã€å¤šæ€ç­‰æ ¸å¿ƒ OOP ç‰¹æ€§ï¼Œä½†å’Œé‚£äº›å®Œå…¨åŸºäº OOP æ€æƒ³è®¾è®¡çš„ç¼–ç¨‹è¯­è¨€*ï¼ˆæ¯”å¦‚ Javaï¼‰*ç›¸æ¯”ï¼Œå®ƒåœ¨ OOP æ”¯æŒæ–¹é¢åšäº†å¾ˆå¤šç®€åŒ–å·¥ä½œã€‚æ¯”å¦‚å®ƒ "),n("strong",[s._v("æ²¡æœ‰ä¸¥æ ¼çš„ç±»ç§æœ‰æˆå‘˜ï¼Œæ²¡æœ‰æ¥å£ï¼ˆInterfaceï¼‰å¯¹è±¡")]),s._v(" ç­‰ã€‚")]),s._v(" "),n("p",[s._v("è€Œä¸æ­¤åŒæ—¶ï¼ŒPython çµæ´»çš„å‡½æ•°å¯¹è±¡ã€é¸­å­ç±»å‹ç­‰è®¸å¤šåŠ¨æ€ç‰¹æ€§åˆè®©ä¸€äº›åœ¨å…¶ä»–è¯­è¨€ä¸­å¾ˆéš¾åšåˆ°çš„äº‹æƒ…å˜å¾—éå¸¸ç®€å•ã€‚è¿™äº›è¯­è¨€é—´çš„å·®å¼‚å…±åŒå¯¼è‡´äº†ä¸€ä¸ªç»“æœï¼š"),n("em",[s._v("å¾ˆå¤šç»å…¸çš„è®¾è®¡æ¨¡å¼åˆ°äº† Python é‡Œï¼Œå°±ä¸¢å¤±äº†é‚£ä¸ªâ€œå‘³é“â€ï¼Œå®ç”¨æ€§ä¹Ÿå¤§æ‰“æŠ˜æ‰£ã€‚")])]),s._v(" "),n("p",[s._v("æ‹¿å¤§å®¶æœ€ç†Ÿæ‚‰çš„å•ä¾‹æ¨¡å¼æ¥è¯´ã€‚ä½ å¯ä»¥èŠ±ä¸Šä¸€å¤§æŠŠæ—¶é—´ï¼Œæ¥å­¦ä¹ å¦‚ä½•åœ¨ Python ä¸­åˆ©ç”¨ "),n("code",[s._v("__new__")]),s._v(" æ–¹æ³•æˆ–å…ƒç±»*ï¼ˆmetaclassï¼‰*æ¥å®ç°å•ä¾‹è®¾è®¡æ¨¡å¼ï¼Œä½†æœ€åä½ ä¼šå‘ç°ï¼Œè‡ªå·± 95% çš„éœ€æ±‚éƒ½å¯ä»¥é€šè¿‡ç›´æ¥å®šä¹‰ä¸€ä¸ªæ¨¡å—çº§å…¨å±€å˜é‡æ¥æå®šã€‚")]),s._v(" "),n("p",[s._v("æ‰€ä»¥ï¼Œä¸å…·ä½“åŒ–çš„ "),n("strong",[s._v("è®¾è®¡æ¨¡å¼")]),s._v(" ç›¸æ¯”ï¼Œæˆ‘è§‰å¾—ä¸€äº›æ›´ä¸ºæŠ½è±¡çš„ "),n("strong",[s._v("è®¾è®¡åŸåˆ™")]),s._v(" é€‚ç”¨æ€§æ›´å¹¿ã€æ›´é€‚åˆè¿ç”¨åˆ° Python å¼€å‘å·¥ä½œä¸­ã€‚è€Œè°ˆåˆ°å…³äº OOP çš„è®¾è®¡åŸåˆ™ï¼Œâ€œSOLIDâ€ æ˜¯ä¼—å¤šåŸåˆ™ä¸­æœ€æœ‰åçš„ä¸€ä¸ªã€‚")]),s._v(" "),n("h3",{attrs:{id:"solid-è®¾è®¡åŸåˆ™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#solid-è®¾è®¡åŸåˆ™"}},[s._v("#")]),s._v(" SOLID è®¾è®¡åŸåˆ™")]),s._v(" "),n("p",[s._v("è‘—åçš„è®¾è®¡æ¨¡å¼ä¹¦ç±"),n("a",{attrs:{href:"https://book.douban.com/subject/1052241/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹"),n("OutboundLink")],1),s._v("å‡ºç‰ˆäº 1994 å¹´ï¼Œè·ä»Šå·²æœ‰è¶…è¿‡ 25 å¹´çš„å†å²ã€‚è€Œè¿™ç¯‡æ–‡ç« çš„ä¸»è§’ï¼š â€œSOLID è®¾è®¡åŸåˆ™â€åŒæ ·ä¹Ÿå¹¶ä¸å¹´è½»ã€‚")]),s._v(" "),n("p",[s._v("æ—©åœ¨ 2000 å¹´ï¼Œ"),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Robert_C._Martin",target:"_blank",rel:"noopener noreferrer"}},[s._v("Robert C. Martin"),n("OutboundLink")],1),s._v(' å°±åœ¨ä»–çš„æ–‡ç«  "Design Principles and Design Patterns" ä¸­æ•´ç†å¹¶æå‡ºäº† â€œSOLIDâ€ è®¾è®¡åŸåˆ™çš„é›å‹ï¼Œä¹‹ååˆåœ¨ä»–çš„ç»å…¸è‘—ä½œ'),n("a",{attrs:{href:"https://book.douban.com/subject/1140457/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ã€Šæ•æ·è½¯ä»¶å¼€å‘ : åŸåˆ™ã€æ¨¡å¼ä¸å®è·µã€‹"),n("OutboundLink")],1),s._v("ä¸­å°†å…¶å‘æ‰¬å…‰å¤§ã€‚â€œSOLIDâ€ ç”± 5 ä¸ªå•è¯ç»„åˆçš„é¦–å­—æ¯ç¼©å†™ç»„æˆï¼Œåˆ†åˆ«ä»£è¡¨ 5 æ¡ä¸åŒçš„é¢å‘å¯¹è±¡é¢†åŸŸçš„è®¾è®¡åŸåˆ™ã€‚")]),s._v(" "),n("p",[s._v("åœ¨ç¼–å†™ OOP ä»£ç æ—¶ï¼Œå¦‚æœéµå¾ªè¿™ 5 æ¡è®¾è®¡åŸåˆ™ï¼Œå°±æ›´å¯èƒ½å†™å‡ºå¯æ‰©å±•ã€æ˜“äºä¿®æ”¹çš„ä»£ç ã€‚ç›¸åï¼Œå¦‚æœä¸æ–­è¿åå…¶ä¸­çš„ä¸€æ¡æˆ–å¤šæ¡åŸåˆ™ï¼Œé‚£ä¹ˆå¾ˆå¿«ä½ çš„ä»£ç å°±ä¼šå˜å¾—ä¸å¯æ‰©å±•ã€éš¾ä»¥ç»´æŠ¤ã€‚")]),s._v(" "),n("p",[s._v("æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ç”¨ä¸€ä¸ªçœŸå®çš„ Python ä»£ç æ ·ä¾‹æ¥åˆ†åˆ«å‘ä½ è¯ é‡Šè¿™ 5 æ¡è®¾è®¡åŸåˆ™ã€‚")]),s._v(" "),n("blockquote",[n("p",[s._v("å†™åœ¨æœ€å‰é¢çš„æ³¨æ„äº‹é¡¹ï¼š")]),s._v(" "),n("ol",{attrs:{start:"0"}},[n("li",[s._v("â€œåŸåˆ™â€ä¸æ˜¯â€œæ³•å¾‹â€ï¼Œå®ƒåªèµ·åˆ°æŒ‡å¯¼ä½œç”¨ï¼Œå¹¶éä¸å¯ä»¥è¿å")]),s._v(" "),n("li",[s._v("â€œåŸåˆ™â€çš„åä¸¤æ¡ä¸æ¥å£ï¼ˆInterfaceï¼‰æœ‰å…³ï¼Œè€Œ Python æ²¡æœ‰æ¥å£ï¼Œæ‰€ä»¥å¯¹è¿™éƒ¨åˆ†çš„è¯ é‡Šæ˜¯æˆ‘çš„ä¸ªäººç†è§£ï¼Œä¸åŸç‰ˆå¯èƒ½ç•¥æœ‰å‡ºå…¥")]),s._v(" "),n("li",[s._v("æ–‡ç« åé¢çš„å†…å®¹å«æœ‰å¤§é‡ä»£ç ï¼Œè¯·åšå¥½å¿ƒç†å‡†å¤‡ â˜•ï¸")]),s._v(" "),n("li",[s._v("ä¸ºäº†å¢å¼ºä»£ç çš„è¯´æ˜æ€§ï¼Œæœ¬æ–‡ä¸­çš„ä»£ç ä½¿ç”¨äº† Python3 ä¸­çš„ "),n("a",{attrs:{href:"https://docs.python.org/3/library/typing.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ç±»å‹æ³¨è§£ç‰¹æ€§"),n("OutboundLink")],1)])])]),s._v(" "),n("h2",{attrs:{id:"solid-åŸåˆ™ä¸-python"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#solid-åŸåˆ™ä¸-python"}},[s._v("#")]),s._v(" SOLID åŸåˆ™ä¸ Python")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://news.ycombinator.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Hacker News"),n("OutboundLink")],1),n("em",[s._v("(åç®€ç§° HN)")]),s._v(" æ˜¯ä¸€ä¸ªåœ¨ç¨‹åºå‘˜åœˆå­é‡Œå¾ˆå—æ¬¢è¿çš„ç«™ç‚¹ã€‚åœ¨å®ƒçš„é¦–é¡µï¼Œæœ‰å¾ˆå¤šç”±ç”¨æˆ·æäº¤ååŸºäºæ¨èç®—æ³•æ’åºçš„ç§‘æŠ€ç›¸å…³å†…å®¹ã€‚")]),s._v(" "),n("p",[s._v("æˆ‘ç»å¸¸ä¼šå»ä¸Šé¢çœ‹ä¸€äº›çƒ­é—¨æ–‡ç« ï¼Œä½†æˆ‘è§‰å¾—æ¯æ¬¡æ‰“å¼€æµè§ˆå™¨è®¿é—®æœ‰ç‚¹éº»çƒ¦ã€‚æ‰€ä»¥ï¼Œæˆ‘å‡†å¤‡ç¼–å†™ä¸€ä¸ªè„šæœ¬ï¼Œè‡ªåŠ¨æŠ“å– HN é¦–é¡µ Top5 çš„æ–°é—»æ ‡é¢˜ä¸é“¾æ¥ï¼Œå¹¶ç”¨çº¯æ–‡æœ¬çš„æ–¹å¼å†™å…¥åˆ°æ–‡ä»¶ã€‚æ–¹ä¾¿è‡ªå·±ç”¨å…¶ä»–å·¥å…·é˜…è¯»ã€‚")]),s._v(" "),n("div",{staticStyle:{"text-align":"center",color:"#999",margin:"14px 0 14px","font-size":"12px"}},[n("img",{attrs:{src:"https://www.zlovezl.cn/static/uploaded/2019/06/hackernews_frontpage.png",width:"100%"}}),s._v("\nå›¾ï¼šHacker News é¦–é¡µæˆªå›¾\n")]),s._v(" "),n("p",[s._v("ç¼–å†™çˆ¬è™«å‡ ä¹æ˜¯ Python å¤©ç”Ÿçš„æ‹¿æ‰‹å¥½æˆã€‚åˆ©ç”¨ requestsã€lxml ç­‰æ¨¡å—æä¾›çš„å¥½ç”¨åŠŸèƒ½ï¼Œæˆ‘å¯ä»¥è½»æ¾å®ç°ä¸Šé¢çš„éœ€æ±‚ã€‚ä¸‹é¢æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ç¼–å†™å¥½çš„ä»£ç ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" io\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" sys\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" typing "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Generator\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" requests\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" lxml "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" etree\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""HN(https://news.ycombinator.com/) ä¸Šçš„æ¡ç›®\n\n    :param title: æ ‡é¢˜\n    :param link: é“¾æ¥\n    :param points: å½“å‰å¾—åˆ†\n    :param comments_cnt: è¯„è®ºæ•°\n    """')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("str")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("str")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" points"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("str")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" comments_cnt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("str")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" title\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("link "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" link\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("points "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("points"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("comments_cnt "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("comments_cnt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""æŠ“å– HackerNews Top å†…å®¹æ¡ç›®\n\n    :param fp: å­˜å‚¨æŠ“å–ç»“æœçš„ç›®æ ‡æ–‡ä»¶å¯¹è±¡\n    :param limit: é™åˆ¶æ¡ç›®æ•°ï¼Œé»˜è®¤ä¸º 5\n    """')]),s._v("\n    ITEMS_URL "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://news.ycombinator.com/'")]),s._v("\n    FILE_TITLE "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Top news on HN'")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TextIOBase"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" limit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fp\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" limit\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""ä» HN æŠ“å– Top å†…å®¹\n        """')]),s._v("\n        resp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" requests"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ITEMS_URL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨ XPath å¯ä»¥æ–¹ä¾¿çš„ä»é¡µé¢è§£æå‡ºä½ éœ€è¦çš„å†…å®¹ï¼Œä»¥ä¸‹å‡ä¸ºé¡µé¢è§£æä»£ç ")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¦‚æœä½ å¯¹ xpath ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å¿½ç•¥è¿™äº›ä»£ç ï¼Œç›´æ¥è·³åˆ° yield Post() éƒ¨åˆ†")]),s._v("\n        html "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" etree"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("HTML"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("resp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        items "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xpath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'//table[@class="itemlist"]/tr[@class="athing"]\'')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" item "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            node_title "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xpath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./td[@class=\"title\"]/a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            node_detail "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getnext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            points_text "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" node_detail"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xpath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.//span[@class=\"score\"]/text()'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            comments_text "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" node_detail"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xpath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.//td/a[last()]/text()'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                title"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node_title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                link"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node_title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'href'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¡ç›®å¯èƒ½ä¼šæ²¡æœ‰è¯„åˆ†")]),s._v("\n                points"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("points_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("split"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" points_text "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                comments_cnt"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("comments_text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("split"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write_to_file")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""ä»¥çº¯æ–‡æœ¬æ ¼å¼å°† Top å†…å®¹å†™å…¥æ–‡ä»¶\n        """')]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'# ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FILE_TITLE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# enumerate æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä»è¿™ä¸ªæ•°å¼€å§‹è®¡æ•°ï¼ˆé»˜è®¤ä¸º 0ï¼‰")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("enumerate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> TOP ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(": ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> åˆ†æ•°ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("points"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(" è¯„è®ºæ•°ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("comments_cnt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> åœ°å€ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'------\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# with open('/tmp/hn_top5.txt') as fp:")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     crawler = HNTopPostsSpider(fp)")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     crawler.write_to_file()")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å› ä¸º HNTopPostsSpider æ¥æ”¶ä»»ä½• file-like çš„å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠ sys.stdout ä¼ è¿›å»")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®ç°å¾€æ§åˆ¶å°æ ‡å‡†è¾“å‡ºæ‰“å°çš„åŠŸèƒ½")]),s._v("\n    crawler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" HNTopPostsSpider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    crawler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write_to_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'__main__'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br")])]),n("p",[s._v("ä½ å¯ä»¥æŠŠä¸Šé¢çš„ä»£ç ç§°ä¹‹ä¸ºç¬¦åˆ OOP é£æ ¼çš„ï¼Œå› ä¸ºåœ¨ä¸Šé¢çš„ä»£ç é‡Œï¼Œæˆ‘å®šä¹‰äº†ä¸¤ä¸ªç±»ï¼š")]),s._v(" "),n("ol",[n("li",[n("code",[s._v("Post")]),s._v("ï¼šè¡¨ç¤ºå•ä¸ª HN å†…å®¹æ¡ç›®ï¼Œå…¶ä¸­å®šä¹‰äº†æ ‡é¢˜ã€é“¾æ¥ç­‰å­—æ®µï¼Œæ˜¯ç”¨æ¥è¡”æ¥â€œæŠ“å–â€å’Œâ€œå†™å…¥æ–‡ä»¶â€ä¸¤ä»¶äº‹æƒ…çš„æ•°æ®ç±»")]),s._v(" "),n("li",[n("code",[s._v("HNTopPostsSpider")]),s._v("ï¼šæŠ“å– HN å†…å®¹çš„çˆ¬è™«ç±»ï¼Œå…¶ä¸­å®šä¹‰äº†æŠ“å–é¡µé¢ã€è§£æã€å†™å…¥ç»“æœçš„æ–¹æ³•ï¼Œæ˜¯å®Œæˆä¸»è¦å·¥ä½œçš„ç±»")])]),s._v(" "),n("p",[s._v("å¦‚æœä½ æœ¬åœ°çš„ Python ç¯å¢ƒé…ç½®æ­£å¸¸ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•æ‰§è¡Œä¸€ä¸‹ä¸Šé¢è¿™æ®µä»£ç ï¼Œå®ƒä¼šè¾“å‡ºä¸‹é¢è¿™æ ·çš„å†…å®¹ï¼š")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("â¯ python news_digester.py\n> TOP 1: Show HN: NoAgeismInTech â€“ Job board for companies fighting ageism in tech\n> åˆ†æ•°ï¼š104 è¯„è®ºæ•°ï¼š26\n> åœ°å€ï¼šhttps://noageismintech.com/\n------\n> TOP 2: Magic Leap sues former employee who founded the China-based Nreal for IP theft\n> åˆ†æ•°ï¼š17 è¯„è®ºæ•°ï¼š2\n> åœ°å€ï¼šhttps://www.bloomberg.com/news/articles/2019-06-18/secretive-magic-leap-says-ex-engineer-copied-headset-for-china\n------\n... ...\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("è¿™ä¸ªè„šæœ¬åŸºäºé¢å‘å¯¹è±¡çš„æ–¹å¼ç¼–å†™*ï¼ˆæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å®šä¹‰äº†ä¸€äº› class ğŸ˜’ï¼‰*ï¼Œå¯ä»¥æ»¡è¶³æˆ‘çš„éœ€æ±‚ã€‚ä½†æ˜¯ä»è®¾è®¡çš„è§’åº¦æ¥çœ‹ï¼Œå®ƒå´è¿åäº† SOLID åŸåˆ™çš„ç¬¬ä¸€æ¡ï¼šâ€œSingle responsibility principleï¼ˆå•ä¸€èŒè´£åŸåˆ™ï¼‰â€ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯ä¸ºä»€ä¹ˆã€‚")]),s._v(" "),n("h2",{attrs:{id:"s-å•ä¸€èŒè´£åŸåˆ™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#s-å•ä¸€èŒè´£åŸåˆ™"}},[s._v("#")]),s._v(" Sï¼šå•ä¸€èŒè´£åŸåˆ™")]),s._v(" "),n("p",[s._v("SOLID è®¾è®¡åŸåˆ™é‡Œçš„ç¬¬ä¸€ä¸ªå­—æ¯ S æ¥è‡ªäº â€œSingle responsibility principleï¼ˆå•ä¸€èŒè´£åŸåˆ™ï¼‰â€ çš„é¦–å­—æ¯ã€‚è¿™ä¸ªåŸåˆ™è®¤ä¸ºï¼š**â€œä¸€ä¸ªç±»åº”è¯¥ä»…ä»…åªæœ‰ä¸€ä¸ªè¢«ä¿®æ”¹çš„ç†ç”±ã€‚â€**æ¢å¥è¯è¯´ï¼Œæ¯ä¸ªç±»éƒ½åº”è¯¥åªæœ‰ä¸€ç§èŒè´£ã€‚")]),s._v(" "),n("p",[s._v("è€Œåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ"),n("code",[s._v("HNTopPostsSpider")]),s._v(" è¿™ä¸ªç±»è¿åäº†è¿™ä¸ªåŸåˆ™ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„æ‰¾åˆ°ä¸¤ä¸ªä¸åŒçš„ä¿®æ”¹å®ƒçš„ç†ç”±ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("ç†ç”± 1")]),s._v(": HN ç½‘ç«™çš„ç¨‹åºå‘˜çªç„¶æ›´æ–°äº†é¡µé¢æ ·å¼ï¼Œæ—§çš„ xpath è§£æç®—æ³•ä»æ–°é¡µé¢ä¸Šè§£æä¸åˆ°å†…å®¹ï¼Œéœ€è¦ä¿®æ”¹ "),n("code",[s._v("fetch")]),s._v(" æ–¹æ³•å†…çš„è§£æé€»è¾‘ã€‚")]),s._v(" "),n("li",[n("strong",[s._v("ç†ç”± 2")]),s._v(": ç”¨æˆ·*ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ï¼‰*çªç„¶è§‰å¾—çº¯æ–‡æœ¬æ ¼å¼çš„è¾“å‡ºä¸å¥½çœ‹ï¼Œæƒ³è¦æ”¹æˆ Markdown æ ·å¼ã€‚éœ€è¦ä¿®æ”¹ "),n("code",[s._v("write_to_file")]),s._v(" æ–¹æ³•å†…çš„è¾“å‡ºé€»è¾‘ã€‚")])]),s._v(" "),n("p",[s._v("æ‰€ä»¥ï¼Œ"),n("code",[s._v("HNTopPostsSpider")]),s._v(' ç±»è¿åäº†â€œå•ä¸€èŒè´£åŸåˆ™â€ï¼Œå› ä¸ºå®ƒæœ‰ç€å¤šä¸ªè¢«ä¿®æ”¹çš„ç†ç”±ã€‚è€Œè¿™èƒŒåçš„æ ¹æœ¬åŸå› æ˜¯å› ä¸ºå®ƒæ‰¿æ‹…ç€ â€œæŠ“å–å¸–å­åˆ—è¡¨â€ å’Œ "å°†å¸–å­åˆ—è¡¨å†™å…¥æ–‡ä»¶" è¿™ä¸¤ç§å®Œå…¨ä¸åŒçš„èŒè´£ã€‚')]),s._v(" "),n("h3",{attrs:{id:"è¿å-å•ä¸€èŒè´£åŸåˆ™-çš„åå¤„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¿å-å•ä¸€èŒè´£åŸåˆ™-çš„åå¤„"}},[s._v("#")]),s._v(" è¿åâ€œå•ä¸€èŒè´£åŸåˆ™â€çš„åå¤„")]),s._v(" "),n("p",[s._v("å¦‚æœæŸä¸ªç±»è¿åäº†â€œå•ä¸€èŒè´£åŸåˆ™â€ï¼Œé‚£æ„å‘³ç€æˆ‘ä»¬ç»å¸¸ä¼šå› ä¸ºä¸åŒçš„åŸå› å»ä¿®æ”¹å®ƒã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ä¸åŒåŠŸèƒ½ä¹‹é—´ç›¸äº’å½±å“ã€‚æ¯”å¦‚ï¼Œå¯èƒ½æˆ‘åœ¨æŸå¤©è°ƒæ•´äº†é¡µé¢è§£æé€»è¾‘ï¼Œå´å‘ç°è¾“å‡ºçš„æ–‡ä»¶æ ¼å¼ä¹Ÿå…¨éƒ¨ä¹±æ‰äº†ã€‚")]),s._v(" "),n("p",[s._v("å¦å¤–ï¼Œå•ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¶Šå¤šï¼Œæ„å‘³ç€è¿™ä¸ªç±»çš„å¤æ‚åº¦ä¹Ÿå°±è¶Šé«˜ï¼Œå®ƒçš„ç»´æŠ¤æˆæœ¬ä¹ŸåŒæ ·ä¼šæ°´æ¶¨èˆ¹é«˜ã€‚è¿åâ€œå•ä¸€èŒè´£åŸåˆ™â€çš„ç±»åŒæ ·ä¹Ÿéš¾ä»¥è¢«å¤ç”¨ï¼Œå‡å¦‚æˆ‘æœ‰å…¶ä»–ä»£ç æƒ³å¤ç”¨ "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»çš„æŠ“å–å’Œè§£æé€»è¾‘ï¼Œä¼šå‘ç°æˆ‘å¿…é¡»è¦æä¾›ä¸€ä¸ªè«åå…¶å¦™çš„æ–‡ä»¶å¯¹è±¡ç»™å®ƒæ‰è¡Œã€‚")]),s._v(" "),n("p",[s._v("é‚£ä¹ˆï¼Œè¦å¦‚ä½•ä¿®æ”¹ä»£ç æ‰èƒ½è®©å®ƒéµå¾ªâ€œå•ä¸€èŒè´£åŸåˆ™â€å‘¢ï¼ŸåŠæ³•æœ‰å¾ˆå¤šï¼Œæœ€ä¼ ç»Ÿçš„æ˜¯ï¼š"),n("strong",[s._v("æŠŠå¤§ç±»æ‹†åˆ†ä¸ºå°ç±»")]),s._v("ã€‚")]),s._v(" "),n("h3",{attrs:{id:"æ‹†åˆ†å¤§ç±»ä¸ºå¤šä¸ªå°ç±»"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ‹†åˆ†å¤§ç±»ä¸ºå¤šä¸ªå°ç±»"}},[s._v("#")]),s._v(" æ‹†åˆ†å¤§ç±»ä¸ºå¤šä¸ªå°ç±»")]),s._v(" "),n("p",[s._v("ä¸ºäº†è®© "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»çš„èŒè´£æ›´çº¯ç²¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå…¶ä¸­ä¸â€œå†™å…¥æ–‡ä»¶â€ç›¸å…³çš„å†…å®¹æ‹†åˆ†å‡ºå»ä½œä¸ºä¸€ä¸ªæ–°çš„ç±»ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PostsWriter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""è´Ÿè´£å°†å¸–å­åˆ—è¡¨å†™å…¥åˆ°æ–‡ä»¶\n    """')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TextIOBase"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("str")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" fp\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" title\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" List"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'# ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# enumerate æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºä»è¿™ä¸ªæ•°å¼€å§‹è®¡æ•°ï¼ˆé»˜è®¤ä¸º 0ï¼‰")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("enumerate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> TOP ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(": ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> åˆ†æ•°ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("points"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(" è¯„è®ºæ•°ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("comments_cnt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> åœ°å€ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'------\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("è€Œåœ¨ "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»é‡Œï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨ "),n("code",[s._v("PostsWriter")]),s._v(" çš„æ–¹å¼æ¥å®Œæˆä¹‹å‰çš„å·¥ä½œï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    FILE_TITLE "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Top news on HN'")]),s._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" å·²çœç•¥ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write_to_file")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TextIOBase"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""ä»¥çº¯æ–‡æœ¬æ ¼å¼å°† Top å†…å®¹å†™å…¥æ–‡ä»¶\n\n        å®ä¾‹åŒ–å‚æ•°æ–‡ä»¶å¯¹è±¡ fp è¢«æŒªåˆ°äº† write_to_file æ–¹æ³•ä¸­\n        """')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å°†æ–‡ä»¶å†™å…¥é€»è¾‘æ‰˜ç®¡ç»™ PostsWriter ç±»å¤„ç†")]),s._v("\n        writer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PostsWriter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FILE_TITLE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        writer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬è®© "),n("code",[s._v("HNTopPostsSpider")]),s._v(" å’Œ "),n("code",[s._v("PostsWriter")]),s._v(" ç±»éƒ½å„è‡ªæ»¡è¶³äº†â€œå•ä¸€èŒè´£åŸåˆ™â€ã€‚æˆ‘åªä¼šå› ä¸ºè§£æé€»è¾‘å˜åŠ¨æ‰å»ä¿®æ”¹ "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»ï¼ŒåŒæ ·ï¼Œä¿®æ”¹ "),n("code",[s._v("PostsWriter")]),s._v(" ç±»çš„åŸå› ä¹Ÿåªæœ‰è°ƒæ•´è¾“å‡ºæ ¼å¼ä¸€ç§ã€‚è¿™ä¸¤ä¸ªç±»å„è‡ªçš„ä¿®æ”¹å¯ä»¥å•ç‹¬è¿›è¡Œè€Œä¸ä¼šç›¸äº’å½±å“ã€‚")]),s._v(" "),n("h3",{attrs:{id:"å¦ä¸€ç§æ–¹æ¡ˆ-ä½¿ç”¨å‡½æ•°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¦ä¸€ç§æ–¹æ¡ˆ-ä½¿ç”¨å‡½æ•°"}},[s._v("#")]),s._v(" å¦ä¸€ç§æ–¹æ¡ˆï¼šä½¿ç”¨å‡½æ•°")]),s._v(" "),n("p",[s._v("â€œå•ä¸€èŒè´£åŸåˆ™â€è™½ç„¶æ˜¯é’ˆå¯¹ç±»è¯´çš„ï¼Œä½†å…¶å®å®ƒçš„é€‚ç”¨èŒƒå›´å¯ä»¥è¶…å‡ºç±»æœ¬èº«ã€‚æ¯”å¦‚åœ¨ Python ä¸­ï¼Œé€šè¿‡å®šä¹‰å‡½æ•°ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥è®©ä¸Šé¢çš„ä»£ç ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚")]),s._v(" "),n("p",[s._v("æˆ‘ä»¬å¯ä»¥æŠŠâ€œå†™å…¥æ–‡ä»¶â€çš„é€»è¾‘æ‹†åˆ†ä¸ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œç”±å®ƒæ¥ä¸“é—¨æ‰¿æ‹…èµ·å°†å¸–å­åˆ—è¡¨å†™å…¥æ–‡ä»¶çš„èŒè´£ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write_posts_to_file")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" List"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("TextIOBase"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("str")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""è´Ÿè´£å°†å¸–å­åˆ—è¡¨å†™å…¥æ–‡ä»¶\n    """')]),s._v("\n    fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'# ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("enumerate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> TOP ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(": ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> åˆ†æ•°ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("points"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v(" è¯„è®ºæ•°ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("comments_cnt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string-interpolation"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v("f'> åœ°å€ï¼š")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\\n'")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        fp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'------\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("è€Œå¯¹äº "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»æ¥è¯´ï¼Œæ”¹åŠ¨å¯ä»¥æ›´è¿›ä¸€æ­¥ã€‚è¿™æ¬¡æˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ é™¤å…¶ä¸­å’Œæ–‡ä»¶å†™å…¥ç›¸å…³çš„æ‰€æœ‰ä»£ç ã€‚è®©å®ƒåªè´Ÿè´£ä¸€ä»¶äº‹æƒ…ï¼šâ€œè·å–å¸–å­åˆ—è¡¨â€ã€‚")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""æŠ“å– HackerNews Top å†…å®¹æ¡ç›®\n\n    :param limit: é™åˆ¶æ¡ç›®æ•°ï¼Œé»˜è®¤ä¸º 5\n    """')]),s._v("\n    ITEMS_URL "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://news.ycombinator.com/'")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" limit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" limit\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("ç›¸åº”çš„ï¼Œç±»å’Œå‡½æ•°çš„è°ƒç”¨æ–¹ "),n("code",[s._v("main")]),s._v(" å‡½æ•°å°±éœ€è¦ç¨ä½œè°ƒæ•´ï¼Œå®ƒéœ€è¦è´Ÿè´£æŠŠ "),n("code",[s._v("write_posts_to_file")]),s._v(" å‡½æ•°å’Œ "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»ä¹‹é—´åè°ƒèµ·æ¥ï¼Œå…±åŒå®Œæˆå·¥ä½œï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    crawler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" HNTopPostsSpider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    posts "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("crawler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    file_title "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Top news on HN'")]),s._v("\n    write_posts_to_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" file_title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("å°†â€œæ–‡ä»¶å†™å…¥â€èŒè´£æ‹†åˆ†ä¸ºæ–°å‡½æ•°æ˜¯ä¸€ä¸ª Python ç‰¹è‰²çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒè™½ç„¶æ²¡æœ‰é‚£ä¹ˆ OO*ï¼ˆé¢å‘å¯¹è±¡ï¼‰*ï¼Œä½†æ˜¯åŒæ ·æ»¡è¶³â€œå•ä¸€èŒè´£åŸåˆ™â€ï¼Œè€Œä¸”åœ¨å¾ˆå¤šåœºæ™¯ä¸‹æ›´çµæ´»ä¸é«˜æ•ˆã€‚")]),s._v(" "),n("h2",{attrs:{id:"o-å¼€æ”¾-å…³é—­åŸåˆ™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#o-å¼€æ”¾-å…³é—­åŸåˆ™"}},[s._v("#")]),s._v(" Oï¼šå¼€æ”¾-å…³é—­åŸåˆ™")]),s._v(" "),n("p",[s._v("O æ¥è‡ªäº â€œOpenâ€“closed principleï¼ˆå¼€æ”¾-å…³é—­åŸåˆ™ï¼‰â€ çš„é¦–å­—æ¯ï¼Œå®ƒè®¤ä¸ºï¼š"),n("strong",[s._v("â€œç±»åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚â€"),n("strong",[s._v("è¿™æ˜¯ä¸€ä¸ªä»å­—é¢ä¸Šå¾ˆéš¾ç†è§£çš„åŸåˆ™ï¼Œå®ƒåŒæ ·æœ‰ç€å¦å¤–ä¸€ç§è¯´æ³•ï¼š")]),s._v("â€œä½ åº”è¯¥å¯ä»¥åœ¨ä¸ä¿®æ”¹æŸä¸ªç±»çš„å‰æä¸‹ï¼Œæ‰©å±•å®ƒçš„è¡Œä¸ºã€‚â€")])]),s._v(" "),n("p",[s._v("è¿™åŸåˆ™å¬ä¸Šå»æœ‰ç‚¹è®©äººçŠ¯è¿·ç³Šï¼Œå¦‚ä½•èƒ½åšåˆ°ä¸ä¿®æ”¹ä»£ç åˆæ”¹å˜è¡Œä¸ºå‘¢ï¼Ÿè®©æˆ‘æ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼šä½ çŸ¥é“ Python é‡Œçš„å†…ç½®æ’åºå‡½æ•° "),n("code",[s._v("sorted")]),s._v(" å—ï¼Ÿ")]),s._v(" "),n("p",[s._v("å¦‚æœæˆ‘ä»¬æƒ³å¯¹æŸä¸ªåˆ—è¡¨æ’åºï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ "),n("code",[s._v("sorted")]),s._v(" å‡½æ•°ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" l "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("sorted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("ç°åœ¨ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³æ”¹å˜ "),n("code",[s._v("sorted")]),s._v(" å‡½æ•°çš„æ’åºé€»è¾‘ã€‚æ¯”å¦‚ï¼Œè®©å®ƒä½¿ç”¨æ‰€æœ‰å…ƒç´ å¯¹ 3 å–ä½™åçš„ç»“æœæ¥æ’åºã€‚æˆ‘ä»¬æ˜¯ä¸æ˜¯éœ€è¦å»ä¿®æ”¹ "),n("code",[s._v("sorted")]),s._v(" å‡½æ•°çš„æºç ï¼Ÿå½“ç„¶ä¸ç”¨ï¼Œåªéœ€è¦åœ¨è°ƒç”¨ "),n("code",[s._v("sort")]),s._v(" å‡½æ•°æ—¶ï¼Œä¼ å…¥è‡ªå®šä¹‰çš„æ’åºå‡½æ•° "),n("code",[s._v("key")]),s._v(" å‚æ•°å°±è¡Œäº†ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" l "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‰ç…§å…ƒç´ å¯¹ 3 çš„ä½™æ•°æ’åºï¼Œèƒ½è¢« 3 æ•´é™¤çš„ 9 æ’åœ¨äº†æœ€å‰é¢ï¼Œéšåæ˜¯ 1 å’Œ 8")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("sorted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("l"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lambda")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼š"),n("code",[s._v("sorted")]),s._v(" å‡½æ•°æ˜¯ä¸€ä¸ªç¬¦åˆâ€œå¼€æ”¾-å…³é—­åŸåˆ™â€çš„ç»ä½³ä¾‹å­ï¼Œå› ä¸ºå®ƒï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("å¯¹æ‰©å±•å¼€æ”¾")]),s._v("ï¼šä½ å¯ä»¥é€šè¿‡ä¼ å…¥è‡ªå®šä¹‰ "),n("code",[s._v("key")]),s._v(" å‡½æ•°æ¥æ‰©å±•å®ƒçš„è¡Œä¸º")]),s._v(" "),n("li",[n("strong",[s._v("å¯¹ä¿®æ”¹å…³é—­")]),s._v("ï¼šä½ æ— éœ€ä¿®æ”¹ sort å‡½æ•°æœ¬èº«")])]),s._v(" "),n("h3",{attrs:{id:"å¦‚ä½•è¿å-å¼€æ”¾-å…³é—­åŸåˆ™"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•è¿å-å¼€æ”¾-å…³é—­åŸåˆ™"}},[s._v("#")]),s._v(" å¦‚ä½•è¿åâ€œå¼€æ”¾-å…³é—­åŸåˆ™â€")]),s._v(" "),n("p",[s._v("ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›åˆ°çˆ¬è™«å°ç¨‹åºã€‚åœ¨ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´ä¹‹åï¼Œç”¨æˆ·*ï¼ˆè¿˜æ˜¯æˆ‘ï¼‰*è§‰å¾—æ¯æ¬¡æŠ“å–åˆ°çš„å†…å®¹æœ‰ç‚¹ä¸åˆå£å‘³ã€‚æˆ‘å…¶å®åªå…³æ³¨é‚£äº›æ¥è‡ªç‰¹å®šç½‘ç«™ï¼Œæ¯”å¦‚ github ä¸Šçš„å†…å®¹ã€‚æ‰€ä»¥æˆ‘éœ€è¦ä¿®æ”¹ "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»çš„ä»£ç æ¥å¯¹ç»“æœè¿›è¡Œè¿‡æ»¤ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n        counter "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" item "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" counter "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n            link "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" node_title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'href'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åªå…³æ³¨æ¥è‡ª github.com çš„å†…å®¹")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'github'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lower"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                counter "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("p",[s._v("å®Œæˆä¿®æ”¹åï¼Œè®©æˆ‘ä»¬æ¥ç®€å•æµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼š")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("â¯ python news_digester_O_before.py\n# Top news on HN\n\n> TOP 1: Mimalloc â€“ A compact general-purpose allocator\n> åˆ†æ•°ï¼š291 è¯„è®ºæ•°ï¼š40\n> åœ°å€ï¼šhttps://github.com/microsoft/mimalloc\n------\n> TOP 2: Olivia: An open source chatbot build with a neural network in Go\n> åˆ†æ•°ï¼š53 è¯„è®ºæ•°ï¼š19\n> åœ°å€ï¼šhttps://github.com/olivia-ai/olivia\n------\n&lt;... å·²çœç•¥ ...>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("çœ‹ä¸Šå»æ–°åŠ çš„è¿‡æ»¤ä»£ç èµ·åˆ°äº†ä½œç”¨ï¼Œç°åœ¨åªæœ‰é“¾æ¥ä¸­å«æœ‰ "),n("code",[s._v("github")]),s._v(" çš„å†…å®¹æ‰ä¼šè¢«å†™å…¥åˆ°ç»“æœä¸­ã€‚")]),s._v(" "),n("p",[s._v("ä½†æ˜¯ï¼Œæ­£å¦‚æŸä½å“²å­¦å®¶çš„åè¨€æ‰€è¯´ï¼š*â€œè¿™ä¸–é—´å”¯ä¸€ä¸å˜çš„ï¼Œåªæœ‰å˜åŒ–æœ¬èº«ã€‚â€"),n("em",[s._v("æŸå¤©ï¼Œç”¨æˆ·")]),s._v("ï¼ˆæ°¸è¿œæ˜¯æˆ‘ï¼‰*çªç„¶è§‰å¾—ï¼Œæ¥è‡ª "),n("code",[s._v("bloomberg")]),s._v(" çš„å†…å®¹ä¹Ÿéƒ½å¾ˆæœ‰æ„æ€ï¼Œæ‰€ä»¥æˆ‘æƒ³è¦æŠŠ "),n("code",[s._v("bloomberg")]),s._v(" ä¹ŸåŠ å…¥ç­›é€‰å…³é”®å­—é€»è¾‘é‡Œã€‚")]),s._v(" "),n("p",[s._v('è¿™æ—¶æˆ‘ä»¬å°±ä¼šå‘ç°ï¼šç°åœ¨çš„ä»£ç è¿åäº†"å¼€æ”¾-å…³é—­åŸåˆ™"ã€‚å› ä¸ºæˆ‘å¿…é¡»è¦ä¿®æ”¹ç°æœ‰çš„ '),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»ä»£ç ï¼Œè°ƒæ•´é‚£ä¸ª "),n("code",[s._v("if 'github' in link.lower()")]),s._v(" åˆ¤æ–­è¯­å¥æ‰èƒ½å®Œæˆæˆ‘çš„éœ€æ±‚ã€‚")]),s._v(" "),n("p",[s._v("â€œå¼€æ”¾-å…³é—­åŸåˆ™â€å‘Šè¯‰æˆ‘ä»¬ï¼Œç±»åº”è¯¥é€šè¿‡æ‰©å±•è€Œä¸æ˜¯ä¿®æ”¹çš„æ–¹å¼æ”¹å˜è‡ªå·±çš„è¡Œä¸ºã€‚é‚£ä¹ˆæˆ‘åº”è¯¥å¦‚ä½•è°ƒæ•´ä»£ç ï¼Œè®©å®ƒå¯ä»¥éµå¾ªåŸåˆ™å‘¢ï¼Ÿ")]),s._v(" "),n("h3",{attrs:{id:"ä½¿ç”¨ç±»ç»§æ‰¿æ¥æ”¹é€ ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨ç±»ç»§æ‰¿æ¥æ”¹é€ ä»£ç "}},[s._v("#")]),s._v(" ä½¿ç”¨ç±»ç»§æ‰¿æ¥æ”¹é€ ä»£ç ")]),s._v(" "),n("p",[s._v("ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ç†è®ºä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚å®ƒå…è®¸æˆ‘ä»¬åœ¨çˆ¶ç±»ä¸­å®šä¹‰å¥½æ•°æ®å’Œæ–¹æ³•ï¼Œç„¶åé€šè¿‡ç»§æ‰¿çš„æ–¹å¼è®©å­ç±»è·å¾—è¿™äº›å†…å®¹ï¼Œå¹¶å¯ä»¥é€‰æ‹©æ€§çš„å¯¹å…¶ä¸­ä¸€äº›è¿›è¡Œé‡å†™ï¼Œä¿®æ”¹å®ƒçš„è¡Œä¸ºã€‚")]),s._v(" "),n("p",[s._v("ä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼æ¥è®©ç±»éµå®ˆâ€œå¼€æ”¾-å…³é—­åŸåˆ™â€çš„å…³é”®ç‚¹åœ¨äºï¼š"),n("strong",[s._v("æ‰¾åˆ°çˆ¶ç±»ä¸­ä¼šå˜åŠ¨çš„éƒ¨åˆ†ï¼Œå°†å…¶æŠ½è±¡æˆæ–°çš„æ–¹æ³•ï¼ˆæˆ–å±æ€§ï¼‰ï¼Œæœ€ç»ˆå…è®¸æ–°çš„å­ç±»æ¥é‡å†™å®ƒä»¥æ”¹å˜ç±»çš„è¡Œä¸ºã€‚")])]),s._v(" "),n("p",[s._v("å¯¹äº "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»æ¥è¯´ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°å…¶ä¸­ä¼šå˜åŠ¨çš„é‚£éƒ¨åˆ†é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯*â€œåˆ¤æ–­æ˜¯å¦å¯¹æ¡ç›®æ„Ÿå…´è¶£â€*ï¼Œç„¶åå°†å…¶æŠ½è±¡å‡ºæ¥ï¼Œå®šä¹‰ä¸ºæ–°çš„æ–¹æ³•ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" item "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n            \n            post "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨æµ‹è¯•æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦è¿”å›è¯¥å¸–å­")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("interested_in_post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                counter "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" post\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("interested_in_post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""åˆ¤æ–­æ˜¯å¦åº”è¯¥å°†å¸–å­åŠ å…¥ç»“æœä¸­\n        """')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("å¦‚æœæˆ‘ä»¬åªå…³å¿ƒæ¥è‡ª "),n("code",[s._v("github")]),s._v(" çš„å¸–å­ï¼Œé‚£ä¹ˆåªéœ€è¦å®šä¹‰ä¸€ä¸ªç»§æ‰¿äº "),n("code",[s._v("HNTopPostsSpider")]),s._v(" å­ç±»ï¼Œç„¶åé‡å†™çˆ¶ç±»çš„ "),n("code",[s._v("interested_in_post")]),s._v(" æ–¹æ³•å³å¯ã€‚")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GithubOnlyHNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HNTopPostsSpider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""åªå…³å¿ƒæ¥è‡ª Github çš„å†…å®¹\n    """')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("interested_in_post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'github'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lower"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# crawler = HNTopPostsSpider()")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨æ–°çš„å­ç±»")]),s._v("\n    crawler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" GithubOnlyHNTopPostsSpider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("å‡å¦‚æˆ‘ä»¬çš„å…´è¶£å‘ç”Ÿäº†å˜åŒ–ï¼Ÿæ²¡å…³ç³»ï¼Œå¢åŠ æ–°çš„å­ç±»å°±è¡Œï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GithubNBloomBergHNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HNTopPostsSpider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""åªå…³ç³»æ¥è‡ª Github/BloomBerg çš„å†…å®¹\n    """')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("interested_in_post")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'github'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lower"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \\\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bloomberg'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("link"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lower"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("æ‰€æœ‰çš„è¿™ä¸€åˆ‡ï¼Œéƒ½ä¸éœ€è¦ä¿®æ”¹åŸæœ¬çš„ "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»çš„ä»£ç ï¼Œåªéœ€è¦ä¸æ–­åœ¨å®ƒçš„åŸºç¡€ä¸Šåˆ›å»ºæ–°çš„å­ç±»å°±èƒ½å®Œæˆæ–°éœ€æ±‚ã€‚æœ€ç»ˆå®ç°äº†å¯¹æ‰©å±•å¼€æ”¾ã€å¯¹æ”¹å˜å…³é—­ã€‚")]),s._v(" "),n("h3",{attrs:{id:"ä½¿ç”¨ç»„åˆä¸ä¾èµ–æ³¨å…¥æ¥æ”¹é€ ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨ç»„åˆä¸ä¾èµ–æ³¨å…¥æ¥æ”¹é€ ä»£ç "}},[s._v("#")]),s._v(" ä½¿ç”¨ç»„åˆä¸ä¾èµ–æ³¨å…¥æ¥æ”¹é€ ä»£ç ")]),s._v(" "),n("p",[s._v("è™½ç„¶ç±»çš„ç»§æ‰¿ç‰¹æ€§å¾ˆå¼ºå¤§ï¼Œä½†å®ƒå¹¶éå”¯ä¸€åŠæ³•ï¼Œ"),n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Dependency_injection",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä¾èµ–æ³¨å…¥ï¼ˆDependency injectionï¼‰"),n("OutboundLink")],1),s._v(" æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„å¦ä¸€ç§æ€è·¯ã€‚ä¸ç»§æ‰¿ä¸åŒï¼Œä¾èµ–æ³¨å…¥å…è®¸æˆ‘ä»¬åœ¨ç±»å®ä¾‹åŒ–æ—¶ï¼Œé€šè¿‡å‚æ•°å°†ä¸šåŠ¡é€»è¾‘çš„å˜åŒ–ç‚¹ï¼š"),n("strong",[s._v("å¸–å­è¿‡æ»¤ç®—æ³•")]),s._v(" æ³¨å…¥åˆ°ç±»å®ä¾‹ä¸­ã€‚æœ€ç»ˆåŒæ ·å®ç°â€œå¼€æ”¾-å…³é—­åŸåˆ™â€ã€‚")]),s._v(" "),n("p",[s._v("é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåä¸º "),n("code",[s._v("PostFilter")]),s._v(" çš„æŠ½è±¡ç±»ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" abc "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" ABC"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" abstractmethod\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PostFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("metaclass"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ABCMeta"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""æŠ½è±¡ç±»ï¼šå®šä¹‰å¦‚ä½•è¿‡æ»¤å¸–å­ç»“æœ\n    """')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@abstractmethod")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("validate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""åˆ¤æ–­å¸–å­æ˜¯å¦åº”è¯¥è¢«ä¿ç•™"""')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("blockquote",[n("p",[s._v("Hintï¼šå®šä¹‰æŠ½è±¡ç±»åœ¨ Python çš„ OOP ä¸­å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä½ ä¹Ÿå¯ä»¥ä¸å®šä¹‰å®ƒï¼Œç›´æ¥ä»ä¸‹é¢çš„ DefaultPostFilter å¼€å§‹ã€‚")])]),s._v(" "),n("p",[s._v("ç„¶åå®šä¹‰ä¸€ä¸ªç»§æ‰¿äºè¯¥æŠ½è±¡ç±»çš„é»˜è®¤ "),n("code",[s._v("DefaultPostFilter")]),s._v(" ç±»ï¼Œè¿‡æ»¤é€»è¾‘ä¸ºä¿ç•™æ‰€æœ‰ç»“æœã€‚ä¹‹åå†è°ƒæ•´ä¸€ä¸‹ "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»çš„æ„é€ æ–¹æ³•ï¼Œè®©å®ƒæ¥æ”¶ä¸€ä¸ªåä¸º "),n("code",[s._v("post_filter")]),s._v(" çš„ç»“æœè¿‡æ»¤å™¨ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DefaultPostFilter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PostFilter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""ä¿ç•™æ‰€æœ‰å¸–å­\n    """')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("validate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("bool")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""æŠ“å– HackerNews Top å†…å®¹æ¡ç›®\n\n    :param limit: é™åˆ¶æ¡ç›®æ•°ï¼Œé»˜è®¤ä¸º 5\n    :param post_filter: è¿‡æ»¤ç»“æœæ¡ç›®çš„ç®—æ³•ï¼Œé»˜è®¤ä¸ºä¿ç•™æ‰€æœ‰\n    """')]),s._v("\n    ITEMS_URL "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://news.ycombinator.com/'")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" limit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" post_filter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Optional"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("PostFilter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" limit\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("post_filter "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" post_filter "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" DefaultPostFilter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" item "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n            \n            post "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            \n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨æµ‹è¯•æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦è¿”å›è¯¥å¸–å­")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("post_filter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("validate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                counter "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" post\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])]),n("p",[s._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œ"),n("code",[s._v("HNTopPostsSpider.fetch")]),s._v(" ä¼šä¿ç•™æ‰€æœ‰çš„ç»“æœã€‚å‡å¦‚æˆ‘ä»¬æƒ³è¦å®šä¹‰è‡ªå·±çš„è¿‡æ»¤ç®—æ³•ï¼Œåªè¦æ–°å»ºè‡ªå·±çš„ "),n("code",[s._v("PostFilter")]),s._v(" ç±»å³å¯ï¼Œä¸‹é¢æ˜¯ä¸¤ä¸ªåˆ†åˆ«è¿‡æ»¤ GitHub ä¸ BloomBerg çš„ "),n("code",[s._v("PostFilter")]),s._v(" ç±»ï¼š")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("class GithubPostFilter(PostFilter):\n    def validate(self, post: Post) -> bool:\n        return 'github' in post.link.lower()\n\n\nclass GithubNBloomPostFilter(PostFilter):\n    def validate(self, post: Post) -> bool:\n        if 'github' in post.link.lower() or 'bloomberg' in post.link.lower():\n            return True\n        return False\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("åœ¨ "),n("code",[s._v("main()")]),s._v(" å‡½æ•°ä¸­ï¼Œæˆ‘å¯ä»¥ç”¨ä¸åŒçš„ "),n("code",[s._v("post_filter")]),s._v(" å‚æ•°æ¥å®ä¾‹åŒ– "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»ï¼Œæœ€ç»ˆæ»¡è¶³ä¸åŒçš„è¿‡æ»¤éœ€æ±‚ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# crawler = HNTopPostsSpider()")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# crawler = HNTopPostsSpider(post_filter=GithubPostFilter())")]),s._v("\n    crawler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" HNTopPostsSpider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("post_filter"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("GithubNBloomPostFilter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    posts "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("crawler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    file_title "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Top news on HN'")]),s._v("\n    write_posts_to_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" file_title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("ä¸åŸºäºç»§æ‰¿çš„æ–¹å¼ä¸€æ ·ï¼Œåˆ©ç”¨å°†â€œè¿‡æ»¤ç®—æ³•â€æŠ½è±¡ä¸º "),n("code",[s._v("PostFilter")]),s._v(" ç±»å¹¶ä»¥å®ä¾‹åŒ–å‚æ•°çš„æ–¹å¼æ³¨å…¥åˆ° "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ä¸­ï¼Œæˆ‘ä»¬åŒæ ·å®ç°äº†â€œå¼€æ”¾-å…³é—­åŸåˆ™â€ã€‚")]),s._v(" "),n("h3",{attrs:{id:"ä½¿ç”¨æ•°æ®é©±åŠ¨æ€æƒ³æ¥æ”¹é€ ä»£ç "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ•°æ®é©±åŠ¨æ€æƒ³æ¥æ”¹é€ ä»£ç "}},[s._v("#")]),s._v(" ä½¿ç”¨æ•°æ®é©±åŠ¨æ€æƒ³æ¥æ”¹é€ ä»£ç ")]),s._v(" "),n("p",[s._v("åœ¨å®ç°â€œå¼€æ”¾-å…³é—­â€åŸåˆ™çš„ä¼—å¤šæ‰‹æ³•ä¸­ï¼Œé™¤äº†ç»§æ‰¿ä¸ä¾èµ–æ³¨å…¥å¤–ï¼Œè¿˜æœ‰ä¸€ç§ç»å¸¸è¢«ç”¨åˆ°çš„æ–¹å¼ï¼š"),n("strong",[s._v("â€œæ•°æ®é©±åŠ¨â€")]),s._v("ã€‚è¿™ä¸ªæ–¹å¼çš„æ ¸å¿ƒæ€æƒ³åœ¨äºï¼š"),n("strong",[s._v("å°†ç»å¸¸å˜åŠ¨çš„ä¸œè¥¿ï¼Œå®Œå…¨ä»¥æ•°æ®çš„æ–¹å¼æŠ½ç¦»å‡ºæ¥ã€‚å½“éœ€æ±‚å˜åŠ¨æ—¶ï¼Œåªæ”¹åŠ¨æ•°æ®ï¼Œä»£ç é€»è¾‘ä¿æŒä¸åŠ¨ã€‚")])]),s._v(" "),n("p",[s._v("å®ƒçš„åŸç†ä¸â€œä¾èµ–æ³¨å…¥â€æœ‰ä¸€äº›ç›¸ä¼¼ï¼ŒåŒæ ·æ˜¯æŠŠå˜åŒ–çš„ä¸œè¥¿æŠ½ç¦»åˆ°ç±»å¤–éƒ¨ã€‚ä¸åŒçš„æ˜¯ï¼Œåè€…æŠ½ç¦»çš„é€šå¸¸æ˜¯ç±»ï¼Œè€Œå‰è€…æŠ½ç¦»çš„æ˜¯æ•°æ®ã€‚")]),s._v(" "),n("p",[s._v("ä¸ºäº†è®© "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»çš„è¡Œä¸ºå¯ä»¥è¢«æ•°æ®é©±åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦ä½¿å…¶æ¥æ”¶ "),n("code",[s._v("filter_by_link_keywords")]),s._v(" å‚æ•°ï¼š")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HNTopPostsSpider")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""æŠ“å– HackerNews Top å†…å®¹æ¡ç›®\n\n    :param limit: é™åˆ¶æ¡ç›®æ•°ï¼Œé»˜è®¤ä¸º 5\n    :param filter_by_link_keywords: è¿‡æ»¤ç»“æœçš„å…³é”®è¯åˆ—è¡¨ï¼Œé»˜è®¤ä¸º None ä¸è¿‡æ»¤\n    """')]),s._v("\n    ITEMS_URL "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://news.ycombinator.com/'")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                 limit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                 filter_by_link_keywords"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Optional"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("List"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("str")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("limit "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" limit\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("filter_by_link_keywords "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" filter_by_link_keywords\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Generator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" item "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <... å·²çœç•¥ ...>")]),s._v("\n            \n            post "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            \n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("filter_by_link_keywords "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                counter "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" post\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å½“ link ä¸­å‡ºç°ä»»æ„ä¸€ä¸ªå…³é”®è¯æ—¶ï¼Œè¿”å›ç»“æœ")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("keyword "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" post"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("link "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" keyword "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("filter_by_link_keywords"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                counter "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" post\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("è°ƒæ•´äº†åˆå§‹åŒ–å‚æ•°åï¼Œè¿˜éœ€è¦åœ¨ "),n("code",[s._v("main")]),s._v(" å‡½æ•°ä¸­å®šä¹‰ "),n("code",[s._v("link_keywords")]),s._v(" å˜é‡å¹¶å°†å…¶ä¼ å…¥åˆ° "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»çš„æ„é€ æ–¹æ³•ä¸­ï¼Œä¹‹åæ‰€æœ‰é’ˆå¯¹è¿‡æ»¤å…³é”®è¯çš„è°ƒæ•´éƒ½åªéœ€è¦ä¿®æ”¹è¿™ä¸ªåˆ—è¡¨å³å¯ï¼Œæ— éœ€æ”¹åŠ¨ "),n("code",[s._v("HNTopPostsSpider")]),s._v(" ç±»çš„ä»£ç ï¼ŒåŒæ ·æ»¡è¶³äº†â€œå¼€æ”¾-å…³é—­åŸåˆ™â€ã€‚")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# link_keywords = None")]),s._v("\n    link_keywords "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'github.com'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bloomberg.com'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    crawler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" HNTopPostsSpider"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("filter_by_link_keywords"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("link_keywords"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    posts "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("crawler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fetch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    file_title "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Top news on HN'")]),s._v("\n    write_posts_to_file"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("posts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sys"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" file_title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("ä¸å‰é¢çš„ç»§æ‰¿å’Œä¾èµ–æ³¨å…¥æ–¹å¼ç›¸æ¯”ï¼Œâ€œæ•°æ®é©±åŠ¨â€çš„ä»£ç æ›´ç®€æ´ï¼Œä¸éœ€è¦å®šä¹‰é¢å¤–çš„ç±»ã€‚ä½†å®ƒåŒæ ·ä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼š"),n("strong",[s._v("å®ƒçš„å¯å®šåˆ¶æ€§ä¸å¦‚å‰é¢çš„ä¸¤ç§æ–¹å¼")]),s._v("ã€‚å‡å¦‚ï¼Œæˆ‘æƒ³è¦ä»¥â€œé“¾æ¥æ˜¯å¦ä»¥æŸä¸ªå­—ç¬¦ä¸²ç»“å°¾â€ä½œä¸ºæ–°çš„è¿‡æ»¤æ¡ä»¶ï¼Œé‚£ä¹ˆç°åœ¨çš„æ•°æ®é©±åŠ¨ä»£ç å°±æœ‰å¿ƒæ— åŠ›äº†ã€‚")]),s._v(" "),n("p",[s._v("å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ–¹å¼æ¥è®©ä»£ç ç¬¦åˆâ€œå¼€æ”¾-å…³é—­åŸåˆ™â€ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„éœ€æ±‚å’Œåœºæ™¯æ¥åˆ¤æ–­ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ— æ³•ä¸€è¹´è€Œå°±ã€éœ€è¦å¤§é‡ç»ƒä¹ å’Œç»éªŒç§¯ç´¯çš„è¿‡ç¨‹ã€‚")]),s._v(" "),n("h2",{attrs:{id:"æ€»ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[s._v("#")]),s._v(" æ€»ç»“")]),s._v(" "),n("p",[s._v("åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ Python ä»£ç æ¡ˆä¾‹ï¼Œå‘ä½ æè¿°äº† â€œSOLIDâ€ è®¾è®¡åŸåˆ™ä¸­çš„å‰ä¸¤ä½æˆå‘˜ï¼š"),n("strong",[s._v("â€œå•ä¸€èŒè´£åŸåˆ™â€")]),s._v(" ä¸ "),n("strong",[s._v("â€œå¼€æ”¾-å…³é—­åŸåˆ™â€")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("è¿™ä¸¤ä¸ªåŸåˆ™è™½ç„¶çœ‹ä¸Šå»å¾ˆç®€å•ï¼Œä½†æ˜¯å®ƒä»¬èƒŒåè•´è—äº†è®¸å¤šä»å¥½ä»£ç ä¸­æç‚¼è€Œæ¥çš„æ™ºæ…§ã€‚å®ƒä»¬çš„é€‚ç”¨èŒƒå›´ä¹Ÿä¸ä»…ä»…å±€é™åœ¨ OOP ä¸­ã€‚ä¸€æ—¦ä½ æ·±å…¥ç†è§£å®ƒä»¬åï¼Œä½ å¯èƒ½ä¼šæƒŠå¥‡çš„åœ¨è®¸å¤šè®¾è®¡æ¨¡å¼å’Œæ¡†æ¶ä¸­å‘ç°å®ƒä»¬çš„å½±å­*ï¼ˆæ¯”å¦‚è¿™ç¯‡æ–‡ç« å°±å‡ºç°äº†è‡³å°‘ 3 ç§è®¾è®¡æ¨¡å¼ï¼Œä½ çŸ¥é“æ˜¯å“ªäº›å—ï¼Ÿï¼‰*ã€‚")]),s._v(" "),n("p",[s._v("è®©æˆ‘ä»¬æœ€åå†æ€»ç»“ä¸€ä¸‹å§ï¼š")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("â€œS: å•ä¸€èŒè´£åŸåˆ™â€")]),s._v(" è®¤ä¸ºä¸€ä¸ªç±»åªåº”è¯¥æœ‰ä¸€ç§è¢«ä¿®æ”¹çš„åŸå› ")]),s._v(" "),n("li",[s._v("ç¼–å†™æ›´å°çš„ç±»é€šå¸¸æ›´ä¸å®¹æ˜“è¿å S åŸåˆ™")]),s._v(" "),n("li",[s._v("S åŸåˆ™åŒæ ·é€‚ç”¨äºå‡½æ•°ï¼Œä½ å¯ä»¥è®©å‡½æ•°å’Œç±»ååŒå·¥ä½œ")]),s._v(" "),n("li",[n("strong",[s._v("â€œO: å¼€æ”¾-å…³é—­åŸåˆ™â€")]),s._v(" è®¤ä¸ºç±»åº”è¯¥å¯¹æ”¹åŠ¨å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾")]),s._v(" "),n("li",[s._v("æ‰¾åˆ°éœ€æ±‚ä¸­é¢‘ç¹å˜åŒ–çš„é‚£ä¸ªç‚¹ï¼Œæ˜¯è®©ç±»éµå¾ª O åŸåˆ™çš„é‡ç‚¹æ‰€åœ¨")]),s._v(" "),n("li",[s._v("ä½¿ç”¨å­ç±»ç»§æ‰¿çš„æ–¹å¼å¯ä»¥è®©ç±»éµå®ˆ O åŸåˆ™")]),s._v(" "),n("li",[s._v("é€šè¿‡å®šä¹‰ç®—æ³•ç±»ï¼Œå¹¶è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œä¹Ÿå¯ä»¥è®©ç±»éµå¾ª O åŸåˆ™")]),s._v(" "),n("li",[s._v("å°†æ•°æ®ä¸é€»è¾‘åˆ†ç¦»ï¼Œä½¿ç”¨æ•°æ®é©±åŠ¨çš„æ–¹å¼ä¹Ÿæ˜¯æ”¹é€ ä»£ç çš„å¥½åŠæ³•")])]),s._v(" "),n("p",[s._v("çœ‹å®Œæ–‡ç« çš„ä½ ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæƒ³åæ§½çš„ï¼Ÿè¯·ç•™è¨€æˆ–è€…åœ¨ "),n("a",{attrs:{href:"https://github.com/piglei/one-python-craftsman",target:"_blank",rel:"noopener noreferrer"}},[s._v("é¡¹ç›® Github Issues"),n("OutboundLink")],1),s._v(" å‘Šè¯‰æˆ‘å§ã€‚")]),s._v(" "),n("p",[n("RouterLink",{attrs:{to:"/docs/python-craftsman/13-write-solid-python-codes-part-2.html"}},[s._v(">>>ä¸‹ä¸€ç¯‡ã€13.å†™å¥½é¢å‘å¯¹è±¡ä»£ç çš„åŸåˆ™ï¼ˆä¸­ï¼‰ã€‘")])],1),s._v(" "),n("p",[n("RouterLink",{attrs:{to:"/docs/python-craftsman/11-three-tips-on-writing-file-related-codes.html"}},[s._v("<<<ä¸Šä¸€ç¯‡ã€11.é«˜æ•ˆæ“ä½œæ–‡ä»¶çš„ä¸‰ä¸ªå»ºè®®ã€‘")])],1),s._v(" "),n("h2",{attrs:{id:"é™„å½•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é™„å½•"}},[s._v("#")]),s._v(" é™„å½•")]),s._v(" "),n("ul",[n("li",[s._v("é¢˜å›¾æ¥æº: Photo by Kelly Sikkema on Unsplash")]),s._v(" "),n("li",[s._v("æ›´å¤šç³»åˆ—æ–‡ç« åœ°å€ï¼šhttps://github.com/piglei/one-python-craftsman")])]),s._v(" "),n("p",[s._v("ç³»åˆ—å…¶ä»–æ–‡ç« ï¼š")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/piglei/one-python-craftsman",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ‰€æœ‰æ–‡ç« ç´¢å¼• [Github]"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.zlovezl.cn/articles/function-returning-tips/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python å·¥åŒ ï¼šè®©å‡½æ•°è¿”å›ç»“æœçš„æŠ€å·§"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.zlovezl.cn/articles/two-tips-on-loop-writing/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python å·¥åŒ ï¼šç¼–å†™åœ°é“å¾ªç¯çš„ä¸¤ä¸ªå»ºè®®"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.zlovezl.cn/articles/three-tips-on-writing-file-related-codes/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python å·¥åŒ ï¼šé«˜æ•ˆæ“ä½œæ–‡ä»¶çš„ä¸‰ä¸ªå»ºè®®"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);