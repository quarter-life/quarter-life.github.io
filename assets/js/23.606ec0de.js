(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{580:function(t,s,a){"use strict";a.r(s);var n=a(13),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),a("blockquote",[a("p",[t._v("è¿™æ˜¯ â€œPython å·¥åŒ â€ç³»åˆ—çš„ç¬¬ 11 ç¯‡æ–‡ç« ã€‚"),a("a",{attrs:{href:"https://github.com/piglei/one-python-craftsman",target:"_blank",rel:"noopener noreferrer"}},[t._v("[æŸ¥çœ‹ç³»åˆ—æ‰€æœ‰æ–‡ç« ]"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("åœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼Œäººä»¬æ¯å¤©éƒ½åœ¨ç”¨ Python å®Œæˆç€ä¸åŒçš„å·¥ä½œã€‚è€Œæ–‡ä»¶æ“ä½œï¼Œåˆ™æ˜¯å¤§å®¶æœ€å¸¸éœ€è¦è§£å†³çš„ä»»åŠ¡ä¹‹ä¸€ã€‚ä½¿ç”¨ Pythonï¼Œä½ å¯ä»¥è½»æ¾ä¸ºä»–äººç”Ÿæˆç²¾ç¾çš„æŠ¥è¡¨ï¼Œä¹Ÿå¯ä»¥ç”¨çŸ­çŸ­å‡ è¡Œä»£ç å¿«é€Ÿè§£æã€æ•´ç†ä¸Šä¸‡ä»½æ•°æ®æ–‡ä»¶ã€‚")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬ç¼–å†™ä¸æ–‡ä»¶ç›¸å…³çš„ä»£ç æ—¶ï¼Œé€šå¸¸ä¼šå…³æ³¨è¿™äº›äº‹æƒ…ï¼š"),a("strong",[t._v("æˆ‘çš„ä»£ç æ˜¯ä¸æ˜¯è¶³å¤Ÿå¿«ï¼Ÿæˆ‘çš„ä»£ç æœ‰æ²¡æœ‰äº‹åŠåŠŸå€çš„å®Œæˆä»»åŠ¡ï¼Ÿ")]),t._v(" åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¼šä¸ä½ åˆ†äº«ä¸ä¹‹ç›¸å…³çš„å‡ ä¸ªç¼–ç¨‹å»ºè®®ã€‚æˆ‘ä¼šå‘ä½ æ¨èä¸€ä¸ªè¢«ä½ä¼°çš„ Python æ ‡å‡†åº“æ¨¡å—ã€æ¼”ç¤ºä¸€ä¸ªè¯»å–å¤§æ–‡ä»¶çš„æœ€ä½³æ–¹å¼ã€æœ€åå†åˆ†äº«æˆ‘å¯¹å‡½æ•°è®¾è®¡çš„ä¸€ç‚¹æ€è€ƒã€‚")]),t._v(" "),a("p",[t._v("ä¸‹é¢ï¼Œè®©æˆ‘ä»¬è¿›å…¥ç¬¬ä¸€ä¸ªâ€œæ¨¡å—å®‰åˆ©â€æ—¶é—´å§ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("**æ³¨æ„ï¼š**å› ä¸ºä¸åŒæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿå¤§ä¸ç›¸åŒï¼Œæœ¬æ–‡çš„ä¸»è¦ç¼–å†™ç¯å¢ƒä¸º Mac OS/Linux ç³»ç»Ÿï¼Œå…¶ä¸­ä¸€äº›ä»£ç å¯èƒ½å¹¶ä¸é€‚ç”¨äº Windows ç³»ç»Ÿã€‚")])]),t._v(" "),a("h2",{attrs:{id:"å»ºè®®ä¸€-ä½¿ç”¨-pathlib-æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å»ºè®®ä¸€-ä½¿ç”¨-pathlib-æ¨¡å—"}},[t._v("#")]),t._v(" å»ºè®®ä¸€ï¼šä½¿ç”¨ pathlib æ¨¡å—")]),t._v(" "),a("p",[t._v("å¦‚æœä½ éœ€è¦åœ¨ Python é‡Œè¿›è¡Œæ–‡ä»¶å¤„ç†ï¼Œé‚£ä¹ˆæ ‡å‡†åº“ä¸­çš„ "),a("code",[t._v("os")]),t._v(" å’Œ "),a("code",[t._v("os.path")]),t._v(" å…„å¼Ÿä¿©ä¸€å®šæ˜¯ä½ æ— æ³•é¿å¼€çš„ä¸¤ä¸ªæ¨¡å—ã€‚åœ¨è¿™ä¸¤ä¸ªæ¨¡å—é‡Œï¼Œæœ‰ç€éå¸¸å¤šä¸æ–‡ä»¶è·¯å¾„å¤„ç†ã€æ–‡ä»¶è¯»å†™ã€æ–‡ä»¶çŠ¶æ€æŸ¥çœ‹ç›¸å…³çš„å·¥å…·å‡½æ•°ã€‚")]),t._v(" "),a("p",[t._v("è®©æˆ‘ç”¨ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºä¸€ä¸‹å®ƒä»¬çš„ä½¿ç”¨åœºæ™¯ã€‚æœ‰ä¸€ä¸ªç›®å½•é‡Œè£…äº†å¾ˆå¤šæ•°æ®æ–‡ä»¶ï¼Œä½†æ˜¯å®ƒä»¬çš„åç¼€åå¹¶ä¸ç»Ÿä¸€ï¼Œæ—¢æœ‰ "),a("code",[t._v(".txt")]),t._v("ï¼Œåˆæœ‰ "),a("code",[t._v(".csv")]),t._v("ã€‚æˆ‘ä»¬éœ€è¦æŠŠå…¶ä¸­ä»¥ "),a("code",[t._v(".txt")]),t._v(" ç»“å°¾çš„æ–‡ä»¶éƒ½ä¿®æ”¹ä¸º "),a("code",[t._v(".csv")]),t._v(" åç¼€åã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥å†™å‡ºè¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unify_ext_with_os_path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ç»Ÿä¸€ç›®å½•ä¸‹çš„ .txt æ–‡ä»¶ååç¼€ä¸º .csv\n    """')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" filename "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listdir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        basename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ext "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("splitext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ext "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            abs_filepath "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("abs_filepath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("f'")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("basename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(".csv'")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("è®©æˆ‘ä»¬çœ‹çœ‹ï¼Œä¸Šé¢çš„ä»£ç ä¸€å…±ç”¨åˆ°äº†å“ªäº›ä¸æ–‡ä»¶å¤„ç†ç›¸å…³çš„å‡½æ•°ï¼š")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.python.org/3/library/os.html#os.listdir",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("os.listdir(path)")]),a("OutboundLink")],1),t._v("ï¼šåˆ—å‡º path ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶*ï¼ˆå«æ–‡ä»¶å¤¹ï¼‰*")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.python.org/3/library/os.path.html#os.path.splitext",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("os.path.splitext(filename)")]),a("OutboundLink")],1),t._v("ï¼šåˆ‡åˆ†æ–‡ä»¶åé‡Œé¢çš„åŸºç¡€åç§°å’Œåç¼€éƒ¨åˆ†")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.python.org/3/library/os.path.html#os.path.join",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("os.path.join(path, filename)")]),a("OutboundLink")],1),t._v("ï¼šç»„åˆéœ€è¦æ“ä½œçš„æ–‡ä»¶åä¸ºç»å¯¹è·¯å¾„")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://docs.python.org/3/library/os.html#os.rename",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("os.rename(...)")]),a("OutboundLink")],1),t._v("ï¼šé‡å‘½åæŸä¸ªæ–‡ä»¶")])]),t._v(" "),a("p",[t._v("ä¸Šé¢çš„å‡½æ•°è™½ç„¶å¯ä»¥å®Œæˆéœ€æ±‚ï¼Œä½†è¯´å¥å®è¯ï¼Œå³ä½¿åœ¨å†™äº†å¾ˆå¤šå¹´ Python ä»£ç åï¼Œæˆ‘ä¾ç„¶è§‰å¾—ï¼š"),a("strong",[t._v("è¿™äº›å‡½æ•°ä¸å…‰å¾ˆéš¾è®°ï¼Œè€Œä¸”æœ€ç»ˆçš„æˆå“ä»£ç ä¹Ÿä¸æ€ä¹ˆè®¨äººå–œæ¬¢ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨-pathlib-æ¨¡å—æ”¹å†™ä»£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-pathlib-æ¨¡å—æ”¹å†™ä»£ç "}},[t._v("#")]),t._v(" ä½¿ç”¨ pathlib æ¨¡å—æ”¹å†™ä»£ç ")]),t._v(" "),a("p",[t._v("ä¸ºäº†è®©æ–‡ä»¶å¤„ç†å˜å¾—æ›´ç®€å•ï¼ŒPython åœ¨ 3.4 ç‰ˆæœ¬å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ ‡å‡†åº“æ¨¡å—ï¼š"),a("a",{attrs:{href:"https://docs.python.org/3/library/pathlib.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("pathlib"),a("OutboundLink")],1),t._v("ã€‚å®ƒåŸºäºé¢å‘å¯¹è±¡æ€æƒ³è®¾è®¡ï¼Œå°è£…äº†éå¸¸å¤šä¸æ–‡ä»¶æ“ä½œç›¸å…³çš„åŠŸèƒ½ã€‚å¦‚æœä½¿ç”¨å®ƒæ¥æ”¹å†™ä¸Šé¢çš„ä»£ç ï¼Œç»“æœä¼šå¤§ä¸ç›¸åŒã€‚")]),t._v(" "),a("p",[t._v("ä½¿ç”¨ pathlib æ¨¡å—åçš„ä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pathlib "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Path\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unify_ext_with_pathlib")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" fpath "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("glob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        fpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fpath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("with_suffix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.csv'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("å’Œæ—§ä»£ç ç›¸æ¯”ï¼Œæ–°å‡½æ•°åªéœ€è¦ä¸¤è¡Œä»£ç å°±å®Œæˆäº†å·¥ä½œã€‚è€Œè¿™ä¸¤è¡Œä»£ç ä¸»è¦åšäº†è¿™ä¹ˆå‡ ä»¶äº‹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("é¦–å…ˆä½¿ç”¨ "),a("a",{attrs:{href:"https://docs.python.org/3/library/pathlib.html#pathlib.Path",target:"_blank",rel:"noopener noreferrer"}},[t._v("Path(path)"),a("OutboundLink")],1),t._v(" å°†å­—ç¬¦ä¸²è·¯å¾„è½¬æ¢ä¸º "),a("code",[t._v("Path")]),t._v(" å¯¹è±¡")]),t._v(" "),a("li",[t._v("è°ƒç”¨ "),a("a",{attrs:{href:"https://docs.python.org/3/library/pathlib.html#pathlib.Path.glob",target:"_blank",rel:"noopener noreferrer"}},[t._v(".glob('*.txt')"),a("OutboundLink")],1),t._v(" å¯¹è·¯å¾„ä¸‹æ‰€æœ‰å†…å®¹è¿›è¡Œæ¨¡å¼åŒ¹é…å¹¶ä»¥ç”Ÿæˆå™¨æ–¹å¼è¿”å›ï¼Œç»“æœä»ç„¶æ˜¯ "),a("code",[t._v("Path")]),t._v(" å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¥ç€åšåé¢çš„æ“ä½œ")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ "),a("a",{attrs:{href:"https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.with_suffix",target:"_blank",rel:"noopener noreferrer"}},[t._v(".with_suffix('.csv')"),a("OutboundLink")],1),t._v(" ç›´æ¥è·å–ä½¿ç”¨æ–°åç¼€åçš„æ–‡ä»¶å…¨è·¯å¾„")]),t._v(" "),a("li",[t._v("è°ƒç”¨ "),a("a",{attrs:{href:"https://docs.python.org/3/library/pathlib.html#pathlib.Path.rename",target:"_blank",rel:"noopener noreferrer"}},[t._v(".rename(target)"),a("OutboundLink")],1),t._v(" å®Œæˆé‡å‘½å")])]),t._v(" "),a("p",[t._v("ç›¸æ¯” "),a("code",[t._v("os")]),t._v(" å’Œ "),a("code",[t._v("os.path")]),t._v("ï¼Œå¼•å…¥ "),a("code",[t._v("pathlib")]),t._v(" æ¨¡å—åçš„ä»£ç æ˜æ˜¾æ›´ç²¾ç®€ï¼Œä¹Ÿæ›´æœ‰æ•´ä½“ç»Ÿä¸€æ„Ÿã€‚æ‰€æœ‰æ–‡ä»¶ç›¸å…³çš„æ“ä½œéƒ½æ˜¯ä¸€ç«™å¼å®Œæˆã€‚")]),t._v(" "),a("h3",{attrs:{id:"å…¶ä»–ç”¨æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–ç”¨æ³•"}},[t._v("#")]),t._v(" å…¶ä»–ç”¨æ³•")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼Œpathlib æ¨¡å—è¿˜æä¾›äº†å¾ˆå¤šæœ‰è¶£çš„ç”¨æ³•ã€‚æ¯”å¦‚ä½¿ç”¨ "),a("code",[t._v("/")]),t._v(" è¿ç®—ç¬¦æ¥ç»„åˆæ–‡ä»¶è·¯å¾„ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ğŸ˜‘ æ—§æœ‹å‹ï¼šä½¿ç”¨ os.path æ¨¡å—")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp/foo.txt'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# âœ¨ æ–°æ½®æµï¼šä½¿ç”¨ / è¿ç®—ç¬¦")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pathlib "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Path\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo.txt'")]),t._v("\nPosixPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp/foo.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("æˆ–è€…ä½¿ç”¨ "),a("code",[t._v(".read_text()")]),t._v(" æ¥å¿«é€Ÿè¯»å–æ–‡ä»¶å†…å®¹ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ ‡å‡†åšæ³•ï¼Œä½¿ç”¨ with open(...) æ‰“å¼€æ–‡ä»¶")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nfoo\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨ pathlib å¯ä»¥è®©è¿™ä»¶äº‹æƒ…å˜å¾—æ›´ç®€å•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pathlib "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Path\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read_text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfoo\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("é™¤äº†æˆ‘åœ¨æ–‡ç« é‡Œä»‹ç»çš„è¿™äº›ï¼Œpathlib æ¨¡å—è¿˜æä¾›äº†éå¸¸å¤šæœ‰ç”¨çš„æ–¹æ³•ï¼Œå¼ºçƒˆå»ºè®®å» "),a("RouterLink",{attrs:{to:"/docs/python-craftsman/(https://docs.python.org/3/library/pathlib.html#module-pathlib)"}},[t._v("å®˜æ–¹æ–‡æ¡£")]),t._v(" è¯¦ç»†äº†è§£ä¸€ä¸‹ã€‚")],1),t._v(" "),a("p",[t._v("å¦‚æœä¸Šé¢è¿™äº›éƒ½ä¸è¶³ä»¥è®©ä½ åŠ¨å¿ƒï¼Œé‚£ä¹ˆæˆ‘å†å¤šç»™ä½ ä¸€ä¸ªä½¿ç”¨ pathlib çš„ç†ç”±ï¼š"),a("a",{attrs:{href:"https://www.python.org/dev/peps/pep-0519/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PEP-519"),a("OutboundLink")],1),t._v(" é‡Œå®šä¹‰äº†ä¸€ä¸ªä¸“é—¨ç”¨äºâ€œæ–‡ä»¶è·¯å¾„â€çš„æ–°å¯¹è±¡åè®®ï¼Œè¿™æ„å‘³ç€ä»è¯¥ PEP ç”Ÿæ•ˆåçš„ Python 3.6 ç‰ˆæœ¬èµ·ï¼Œpathlib é‡Œçš„ Path å¯¹è±¡ï¼Œå¯ä»¥å’Œä»¥å‰ç»å¤§å¤šæ•°åªæ¥å—å­—ç¬¦ä¸²è·¯å¾„çš„æ ‡å‡†åº“å‡½æ•°å…¼å®¹ä½¿ç”¨ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯ä»¥ç›´æ¥å¯¹ Path ç±»å‹å¯¹è±¡ p è¿›è¡Œ join")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp/foo.txt'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("æ‰€ä»¥ï¼Œæ— éœ€çŠ¹è±«ï¼Œèµ¶ç´§æŠŠ pathlib æ¨¡å—ç”¨èµ·æ¥å§ã€‚")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Hint:")]),t._v(" å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ›´æ—©çš„ Python ç‰ˆæœ¬ï¼Œå¯ä»¥å°è¯•å®‰è£… "),a("a",{attrs:{href:"https://pypi.org/project/pathlib2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("pathlib2"),a("OutboundLink")],1),t._v(" æ¨¡å— ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"å»ºè®®äºŒ-æŒæ¡å¦‚ä½•æµå¼è¯»å–å¤§æ–‡ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å»ºè®®äºŒ-æŒæ¡å¦‚ä½•æµå¼è¯»å–å¤§æ–‡ä»¶"}},[t._v("#")]),t._v(" å»ºè®®äºŒï¼šæŒæ¡å¦‚ä½•æµå¼è¯»å–å¤§æ–‡ä»¶")]),t._v(" "),a("p",[t._v("å‡ ä¹æ‰€æœ‰äººéƒ½çŸ¥é“ï¼Œåœ¨ Python é‡Œè¯»å–æ–‡ä»¶æœ‰ä¸€ç§â€œæ ‡å‡†åšæ³•â€ï¼šé¦–å…ˆä½¿ç”¨ "),a("code",[t._v("with open(fine_name)")]),t._v(" ä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„æ–¹å¼è·å¾—ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œç„¶åä½¿ç”¨ "),a("code",[t._v("for")]),t._v(" å¾ªç¯è¿­ä»£å®ƒï¼Œé€è¡Œè·å–æ–‡ä»¶é‡Œçš„å†…å®¹ã€‚")]),t._v(" "),a("p",[t._v("ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨è¿™ç§â€œæ ‡å‡†åšæ³•â€çš„ç®€å•ç¤ºä¾‹å‡½æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("count_nine")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""è®¡ç®—æ–‡ä»¶é‡ŒåŒ…å«å¤šå°‘ä¸ªæ•°å­— \'9\'\n    """')]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" line "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" count\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–‡ä»¶ "),a("code",[t._v("small_file.txt")]),t._v("ï¼Œé‚£ä¹ˆä½¿ç”¨è¿™ä¸ªå‡½æ•°å¯ä»¥è½»æ¾è®¡ç®—å‡º 9 çš„æ•°é‡ã€‚")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# small_file.txt")]),t._v("\nfeiowe9322nasd9233rl\naoeijfiowejf8322kaf9a\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OUTPUT: 3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count_nine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'small_file.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("ä¸ºä»€ä¹ˆè¿™ç§æ–‡ä»¶è¯»å–æ–¹å¼ä¼šæˆä¸ºæ ‡å‡†ï¼Ÿè¿™æ˜¯å› ä¸ºå®ƒæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("with")]),t._v(" ä¸Šä¸‹æ–‡ç®¡ç†å™¨ä¼šè‡ªåŠ¨å…³é—­æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦")]),t._v(" "),a("li",[t._v("åœ¨è¿­ä»£æ–‡ä»¶å¯¹è±¡æ—¶ï¼Œå†…å®¹æ˜¯ä¸€è¡Œä¸€è¡Œè¿”å›çš„ï¼Œä¸ä¼šå ç”¨å¤ªå¤šå†…å­˜")])]),t._v(" "),a("h3",{attrs:{id:"æ ‡å‡†åšæ³•çš„ç¼ºç‚¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ ‡å‡†åšæ³•çš„ç¼ºç‚¹"}},[t._v("#")]),t._v(" æ ‡å‡†åšæ³•çš„ç¼ºç‚¹")]),t._v(" "),a("p",[t._v("ä½†è¿™å¥—æ ‡å‡†åšæ³•å¹¶éæ²¡æœ‰ç¼ºç‚¹ã€‚å¦‚æœè¢«è¯»å–çš„æ–‡ä»¶é‡Œï¼Œæ ¹æœ¬å°±æ²¡æœ‰ä»»ä½•æ¢è¡Œç¬¦ï¼Œé‚£ä¹ˆä¸Šé¢çš„ç¬¬äºŒä¸ªå¥½å¤„å°±ä¸æˆç«‹äº†ã€‚"),a("strong",[t._v("å½“ä»£ç æ‰§è¡Œåˆ° "),a("code",[t._v("for line in file")]),t._v(" æ—¶ï¼Œline å°†ä¼šå˜æˆä¸€ä¸ªéå¸¸å·¨å¤§çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ¶ˆè€—æ‰éå¸¸å¯è§‚çš„å†…å­˜ã€‚")])]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬æ¥åšä¸ªè¯•éªŒï¼šæœ‰ä¸€ä¸ª "),a("strong",[t._v("5GB")]),t._v(" å¤§çš„æ–‡ä»¶ "),a("code",[t._v("big_file.txt")]),t._v("ï¼Œå®ƒé‡Œé¢è£…æ»¡äº†å’Œ "),a("code",[t._v("small_file.txt")]),t._v(" ä¸€æ ·çš„éšæœºå­—ç¬¦ä¸²ã€‚åªä¸è¿‡å®ƒå­˜å‚¨å†…å®¹çš„æ–¹å¼ç¨æœ‰ä¸åŒï¼Œæ‰€æœ‰çš„æ–‡æœ¬éƒ½è¢«æ”¾åœ¨äº†åŒä¸€è¡Œé‡Œï¼š")]),t._v(" "),a("div",{staticClass:"language-raw line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# FILE: big_file.txt\ndf2if283rkwefh... <å‰©ä½™ 5GB å¤§å°> ...\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("å¦‚æœæˆ‘ä»¬ç»§ç»­ä½¿ç”¨å‰é¢çš„ "),a("code",[t._v("count_nine")]),t._v(" å‡½æ•°å»ç»Ÿè®¡è¿™ä¸ªå¤§æ–‡ä»¶é‡Œ "),a("code",[t._v("9")]),t._v(" çš„ä¸ªæ•°ã€‚é‚£ä¹ˆåœ¨æˆ‘çš„ç¬”è®°æœ¬ä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šè¶³è¶³èŠ±æ‰ "),a("strong",[t._v("65")]),t._v(" ç§’ï¼Œå¹¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åƒæ‰æœºå™¨ "),a("strong",[t._v("2GB")]),t._v(" å†…å­˜ "),a("a",{attrs:{href:"(#annot1)"}},[t._v("[æ³¨1]")]),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨-read-æ–¹æ³•åˆ†å—è¯»å–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-read-æ–¹æ³•åˆ†å—è¯»å–"}},[t._v("#")]),t._v(" ä½¿ç”¨ read æ–¹æ³•åˆ†å—è¯»å–")]),t._v(" "),a("p",[t._v("ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æš‚æ—¶æŠŠè¿™ä¸ªâ€œæ ‡å‡†åšæ³•â€æ”¾åˆ°ä¸€è¾¹ï¼Œä½¿ç”¨æ›´åº•å±‚çš„ "),a("code",[t._v("file.read()")]),t._v(" æ–¹æ³•ã€‚ä¸ç›´æ¥å¾ªç¯è¿­ä»£æ–‡ä»¶å¯¹è±¡ä¸åŒï¼Œæ¯æ¬¡è°ƒç”¨ "),a("code",[t._v("file.read(chunk_size)")]),t._v(" ä¼šç›´æ¥è¿”å›ä»å½“å‰ä½ç½®å¾€åè¯»å– "),a("code",[t._v("chunk_size")]),t._v(" å¤§å°çš„æ–‡ä»¶å†…å®¹ï¼Œä¸å¿…ç­‰å¾…ä»»ä½•æ¢è¡Œç¬¦å‡ºç°ã€‚")]),t._v(" "),a("p",[t._v("æ‰€ä»¥ï¼Œå¦‚æœä½¿ç”¨ "),a("code",[t._v("file.read()")]),t._v(" æ–¹æ³•ï¼Œæˆ‘ä»¬çš„å‡½æ•°å¯ä»¥æ”¹å†™æˆè¿™æ ·:")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("count_nine_v2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""è®¡ç®—æ–‡ä»¶é‡ŒåŒ…å«å¤šå°‘ä¸ªæ•°å­— \'9\'ï¼Œæ¯æ¬¡è¯»å– 8kb\n    """')]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    block_size "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            chunk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("block_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å½“æ–‡ä»¶æ²¡æœ‰æ›´å¤šå†…å®¹æ—¶ï¼Œread è°ƒç”¨å°†ä¼šè¿”å›ç©ºå­—ç¬¦ä¸² ''")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" chunk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n            count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" chunk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" count\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("p",[t._v("åœ¨æ–°å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ª "),a("code",[t._v("while")]),t._v(" å¾ªç¯æ¥è¯»å–æ–‡ä»¶å†…å®¹ï¼Œæ¯æ¬¡æœ€å¤šè¯»å– 8kb å¤§å°ï¼Œè¿™æ ·å¯ä»¥é¿å…ä¹‹å‰éœ€è¦æ‹¼æ¥ä¸€ä¸ªå·¨å¤§å­—ç¬¦ä¸²çš„è¿‡ç¨‹ï¼ŒæŠŠå†…å­˜å ç”¨é™ä½éå¸¸å¤šã€‚")]),t._v(" "),a("h3",{attrs:{id:"åˆ©ç”¨ç”Ÿæˆå™¨è§£è€¦ä»£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ©ç”¨ç”Ÿæˆå™¨è§£è€¦ä»£ç "}},[t._v("#")]),t._v(" åˆ©ç”¨ç”Ÿæˆå™¨è§£è€¦ä»£ç ")]),t._v(" "),a("p",[t._v("å‡å¦‚æˆ‘ä»¬åœ¨è®¨è®ºçš„ä¸æ˜¯ Pythonï¼Œè€Œæ˜¯å…¶ä»–ç¼–ç¨‹è¯­è¨€ã€‚é‚£ä¹ˆå¯ä»¥è¯´ä¸Šé¢çš„ä»£ç å·²ç»å¾ˆå¥½äº†ã€‚ä½†æ˜¯å¦‚æœä½ è®¤çœŸåˆ†æä¸€ä¸‹ "),a("code",[t._v("count_nine_v2")]),t._v(" å‡½æ•°ï¼Œä½ ä¼šå‘ç°åœ¨å¾ªç¯ä½“å†…éƒ¨ï¼Œå­˜åœ¨ç€ä¸¤ä¸ªç‹¬ç«‹çš„é€»è¾‘ï¼š"),a("strong",[t._v("æ•°æ®ç”Ÿæˆï¼ˆread è°ƒç”¨ä¸ chunk åˆ¤æ–­ï¼‰")]),t._v(" ä¸ "),a("strong",[t._v("æ•°æ®æ¶ˆè´¹")]),t._v("ã€‚è€Œè¿™ä¸¤ä¸ªç‹¬ç«‹é€»è¾‘è¢«è€¦åˆåœ¨äº†ä¸€èµ·ã€‚")]),t._v(" "),a("p",[t._v("æ­£å¦‚æˆ‘åœ¨"),a("a",{attrs:{href:"https://www.zlovezl.cn/articles/two-tips-on-loop-writing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šç¼–å†™åœ°é“å¾ªç¯ã€‹"),a("OutboundLink")],1),t._v("é‡Œæ‰€æåˆ°çš„ï¼Œä¸ºäº†æå‡å¤ç”¨èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„ "),a("code",[t._v("chunked_file_reader")]),t._v(" ç”Ÿæˆå™¨å‡½æ•°ï¼Œç”±å®ƒæ¥è´Ÿè´£æ‰€æœ‰ä¸â€œæ•°æ®ç”Ÿæˆâ€ç›¸å…³çš„é€»è¾‘ã€‚è¿™æ · "),a("code",[t._v("count_nine_v3")]),t._v(" é‡Œé¢çš„ä¸»å¾ªç¯å°±åªéœ€è¦è´Ÿè´£è®¡æ•°å³å¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chunked_file_reader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" block_size"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ç”Ÿæˆå™¨å‡½æ•°ï¼šåˆ†å—è¯»å–æ–‡ä»¶å†…å®¹\n    """')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        chunk "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("block_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å½“æ–‡ä»¶æ²¡æœ‰æ›´å¤šå†…å®¹æ—¶ï¼Œread è°ƒç”¨å°†ä¼šè¿”å›ç©ºå­—ç¬¦ä¸² ''")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" chunk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" chunk\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("count_nine_v3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" chunk "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" chunked_file_reader"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" chunk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" count\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("p",[t._v("è¿›è¡Œåˆ°è¿™ä¸€æ­¥ï¼Œä»£ç ä¼¼ä¹å·²ç»æ²¡æœ‰ä¼˜åŒ–çš„ç©ºé—´äº†ï¼Œä½†å…¶å®ä¸ç„¶ã€‚"),a("a",{attrs:{href:"https://docs.python.org/3/library/functions.html#iter",target:"_blank",rel:"noopener noreferrer"}},[t._v("iter(iterable)"),a("OutboundLink")],1),t._v(" æ˜¯ä¸€ä¸ªç”¨æ¥æ„é€ è¿­ä»£å™¨çš„å†…å»ºå‡½æ•°ï¼Œä½†å®ƒè¿˜æœ‰ä¸€ä¸ªæ›´å°‘äººçŸ¥é“çš„ç”¨æ³•ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ "),a("code",[t._v("iter(callable, sentinel)")]),t._v(" çš„æ–¹å¼è°ƒç”¨å®ƒæ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œè¿­ä»£å®ƒå°†ä¸æ–­äº§ç”Ÿå¯è°ƒç”¨å¯¹è±¡ callable çš„è°ƒç”¨ç»“æœï¼Œç›´åˆ°ç»“æœä¸º setinel æ—¶ï¼Œè¿­ä»£ç»ˆæ­¢ã€‚")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chunked_file_reader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" block_size"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ç”Ÿæˆå™¨å‡½æ•°ï¼šåˆ†å—è¯»å–æ–‡ä»¶å†…å®¹ï¼Œä½¿ç”¨ iter å‡½æ•°\n    """')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é¦–å…ˆä½¿ç”¨ partial(fp.read, block_size) æ„é€ ä¸€ä¸ªæ–°çš„æ— éœ€å‚æ•°çš„å‡½æ•°")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¾ªç¯å°†ä¸æ–­è¿”å› fp.read(block_size) è°ƒç”¨ç»“æœï¼Œç›´åˆ°å…¶ä¸º '' æ—¶ç»ˆæ­¢")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" chunk "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("iter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("partial"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" block_size"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" chunk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("æœ€ç»ˆï¼Œåªéœ€è¦ä¸¤è¡Œä»£ç ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªå¯å¤ç”¨çš„åˆ†å—æ–‡ä»¶è¯»å–å‡½æ•°ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªå‡½æ•°åœ¨æ€§èƒ½æ–¹é¢çš„è¡¨ç°å¦‚ä½•å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("å’Œä¸€å¼€å§‹çš„ "),a("strong",[t._v("2GB å†…å­˜/è€—æ—¶ 65 ç§’")]),t._v(" ç›¸æ¯”ï¼Œä½¿ç”¨ç”Ÿæˆå™¨çš„ç‰ˆæœ¬åªéœ€è¦ "),a("strong",[t._v("7MB å†…å­˜ / 12 ç§’")]),t._v(" å°±èƒ½å®Œæˆè®¡ç®—ã€‚æ•ˆç‡æå‡äº†æ¥è¿‘ 4 å€ï¼Œå†…å­˜å ç”¨æ›´æ˜¯ä¸åˆ°åŸæ¥çš„ 1%ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å»ºè®®ä¸‰-è®¾è®¡æ¥å—æ–‡ä»¶å¯¹è±¡çš„å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å»ºè®®ä¸‰-è®¾è®¡æ¥å—æ–‡ä»¶å¯¹è±¡çš„å‡½æ•°"}},[t._v("#")]),t._v(" å»ºè®®ä¸‰ï¼šè®¾è®¡æ¥å—æ–‡ä»¶å¯¹è±¡çš„å‡½æ•°")]),t._v(" "),a("p",[t._v("ç»Ÿè®¡å®Œæ–‡ä»¶é‡Œçš„ â€œ9â€ ä¹‹åï¼Œè®©æˆ‘ä»¬æ¢ä¸€ä¸ªéœ€æ±‚ã€‚ç°åœ¨ï¼Œæˆ‘æƒ³è¦ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶é‡Œå‡ºç°äº†å¤šå°‘ä¸ªè‹±æ–‡å…ƒéŸ³å­—æ¯*ï¼ˆaeiouï¼‰*ã€‚åªè¦å¯¹ä¹‹å‰çš„ä»£ç ç¨ä½œè°ƒæ•´ï¼Œå¾ˆå¿«å°±å¯ä»¥å†™å‡ºæ–°å‡½æ•° "),a("code",[t._v("count_vowels")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("count_vowels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ç»Ÿè®¡æŸä¸ªæ–‡ä»¶ä¸­ï¼ŒåŒ…å«å…ƒéŸ³å­—æ¯(aeiou)çš„æ•°é‡\n    """')]),t._v("\n    VOWELS_LETTERS "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'e'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'o'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'u'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" line "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" char "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" char"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lower"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" VOWELS_LETTERS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" count\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OUTPUT: 16")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count_vowels"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'small_file.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("å’Œä¹‹å‰â€œç»Ÿè®¡ 9â€çš„å‡½æ•°ç›¸æ¯”ï¼Œæ–°å‡½æ•°å˜å¾—ç¨å¾®å¤æ‚äº†ä¸€äº›ã€‚ä¸ºäº†ä¿è¯ç¨‹åºçš„æ­£ç¡®æ€§ï¼Œæˆ‘éœ€è¦ä¸ºå®ƒå†™ä¸€äº›å•å…ƒæµ‹è¯•ã€‚ä½†å½“æˆ‘å‡†å¤‡å†™æµ‹è¯•æ—¶ï¼Œå´å‘ç°è¿™ä»¶äº‹æƒ…éå¸¸éº»çƒ¦ï¼Œä¸»è¦é—®é¢˜ç‚¹å¦‚ä¸‹ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("å‡½æ•°æ¥æ”¶æ–‡ä»¶è·¯å¾„ä½œä¸ºå‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¼ é€’ä¸€ä¸ªå®é™…å­˜åœ¨çš„æ–‡ä»¶")]),t._v(" "),a("li",[t._v("ä¸ºäº†å‡†å¤‡æµ‹è¯•ç”¨ä¾‹ï¼Œæˆ‘è¦ä¹ˆæä¾›å‡ ä¸ªæ ·æ¿æ–‡ä»¶ï¼Œè¦ä¹ˆå†™ä¸€äº›ä¸´æ—¶æ–‡ä»¶")]),t._v(" "),a("li",[t._v("è€Œæ–‡ä»¶æ˜¯å¦èƒ½è¢«æ­£å¸¸æ‰“å¼€ã€è¯»å–ï¼Œä¹Ÿæˆäº†æˆ‘ä»¬éœ€è¦æµ‹è¯•çš„è¾¹ç•Œæƒ…å†µ")])]),t._v(" "),a("p",[t._v("**å¦‚æœï¼Œä½ å‘ç°ä½ çš„å‡½æ•°éš¾ä»¥ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œé‚£é€šå¸¸æ„å‘³ç€ä½ åº”è¯¥æ”¹è¿›å®ƒçš„è®¾è®¡ã€‚**ä¸Šé¢çš„å‡½æ•°åº”è¯¥å¦‚ä½•æ”¹è¿›å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼š"),a("em",[t._v("è®©å‡½æ•°ä¾èµ–â€œæ–‡ä»¶å¯¹è±¡â€è€Œä¸æ˜¯æ–‡ä»¶è·¯å¾„")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("ä¿®æ”¹åçš„å‡½æ•°ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("count_vowels_v2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""ç»Ÿè®¡æŸä¸ªæ–‡ä»¶ä¸­ï¼ŒåŒ…å«å…ƒéŸ³å­—æ¯(aeiou)çš„æ•°é‡\n    """')]),t._v("\n    VOWELS_LETTERS "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'e'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'o'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'u'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" line "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" char "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" line"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" char"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lower"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" VOWELS_LETTERS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" count\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¿®æ”¹å‡½æ•°åï¼Œæ‰“å¼€æ–‡ä»¶çš„èŒè´£è¢«ç§»äº¤ç»™äº†ä¸Šå±‚å‡½æ•°è°ƒç”¨è€…")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'small_file.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count_vowels_v2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("p",[t._v("**è¿™ä¸ªæ”¹åŠ¨å¸¦æ¥çš„ä¸»è¦å˜åŒ–ï¼Œåœ¨äºå®ƒæå‡äº†å‡½æ•°çš„é€‚ç”¨é¢ã€‚**å› ä¸º Python æ˜¯â€œé¸­å­ç±»å‹â€çš„ï¼Œè™½ç„¶å‡½æ•°éœ€è¦æ¥å—æ–‡ä»¶å¯¹è±¡ï¼Œä½†å…¶å®æˆ‘ä»¬å¯ä»¥æŠŠä»»ä½•å®ç°äº†æ–‡ä»¶åè®®çš„ â€œç±»æ–‡ä»¶å¯¹è±¡ï¼ˆfile-like objectï¼‰â€ ä¼ å…¥ "),a("code",[t._v("count_vowels_v2")]),t._v(" å‡½æ•°ä¸­ã€‚")]),t._v(" "),a("p",[t._v("è€Œ Python ä¸­æœ‰ç€éå¸¸å¤šâ€œç±»æ–‡ä»¶å¯¹è±¡â€ã€‚æ¯”å¦‚ io æ¨¡å—å†…çš„ "),a("a",{attrs:{href:"https://docs.python.org/3/library/io.html#io.StringIO",target:"_blank",rel:"noopener noreferrer"}},[t._v("StringIO"),a("OutboundLink")],1),t._v(" å¯¹è±¡å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ç§åŸºäºå†…å­˜çš„ç‰¹æ®Šå¯¹è±¡ï¼Œæ‹¥æœ‰å’Œæ–‡ä»¶å¯¹è±¡å‡ ä¹ä¸€è‡´çš„æ¥å£è®¾è®¡ã€‚")]),t._v(" "),a("p",[t._v("åˆ©ç”¨ StringIOï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿çš„ä¸ºå‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•ã€‚")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ³¨æ„ï¼šä»¥ä¸‹æµ‹è¯•å‡½æ•°éœ€è¦ä½¿ç”¨ pytest æ‰§è¡Œ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pytest\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" io "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" StringIO\n\n\n"),a("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@pytest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parametrize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content,vowels_count"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨ pytest æä¾›çš„å‚æ•°åŒ–æµ‹è¯•å·¥å…·ï¼Œå®šä¹‰æµ‹è¯•å‚æ•°åˆ—è¡¨")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (æ–‡ä»¶å†…å®¹, æœŸå¾…ç»“æœ)")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HELLO WORLD!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä½ å¥½ï¼Œä¸–ç•Œ'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test_count_vowels_v2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vowels_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# åˆ©ç”¨ StringIO æ„é€ ç±»æ–‡ä»¶å¯¹è±¡ "file"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" StringIO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("assert")]),t._v(" count_vowels_v2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" vowels_count\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("p",[t._v("ä½¿ç”¨ pytest è¿è¡Œæµ‹è¯•å¯ä»¥å‘ç°ï¼Œå‡½æ•°å¯ä»¥é€šè¿‡æ‰€æœ‰çš„ç”¨ä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-raw line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("â¯ pytest vowels_counter.py\n====== test session starts ======\ncollected 4 items\n\nvowels_counter.py ... [100%]\n\n====== 4 passed in 0.06 seconds ======\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("è€Œè®©ç¼–å†™å•å…ƒæµ‹è¯•å˜å¾—æ›´ç®€å•ï¼Œå¹¶éä¿®æ”¹å‡½æ•°ä¾èµ–åçš„å”¯ä¸€å¥½å¤„ã€‚é™¤äº† StringIO å¤–ï¼Œsubprocess æ¨¡å—è°ƒç”¨ç³»ç»Ÿå‘½ä»¤æ—¶ç”¨æ¥å­˜å‚¨æ ‡å‡†è¾“å‡ºçš„ "),a("a",{attrs:{href:"https://docs.python.org/3/library/subprocess.html#subprocess.PIPE",target:"_blank",rel:"noopener noreferrer"}},[t._v("PIPE"),a("OutboundLink")],1),t._v(" å¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¸€ç§â€œç±»æ–‡ä»¶å¯¹è±¡â€ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠæŸä¸ªå‘½ä»¤çš„è¾“å‡ºä¼ é€’ç»™ "),a("code",[t._v("count_vowels_v2")]),t._v(" å‡½æ•°æ¥è®¡ç®—å…ƒéŸ³å­—æ¯æ•°ï¼š")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" subprocess\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç»Ÿè®¡ /tmp ä¸‹é¢æ‰€æœ‰ä¸€çº§å­æ–‡ä»¶åï¼ˆç›®å½•åï¼‰æœ‰å¤šå°‘å…ƒéŸ³å­—æ¯")]),t._v("\np "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Popen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ls'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/tmp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stdout"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("subprocess"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PIPE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" encoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# p.stdout æ˜¯ä¸€ä¸ªæµå¼ç±»æ–‡ä»¶å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ä¼ å…¥å‡½æ•°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OUTPUT: 42")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count_vowels_v2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("æ­£å¦‚ä¹‹å‰æ‰€è¯´ï¼Œå°†å‡½æ•°å‚æ•°ä¿®æ”¹ä¸ºâ€œæ–‡ä»¶å¯¹è±¡â€ï¼Œæœ€å¤§çš„å¥½å¤„æ˜¯æé«˜äº†å‡½æ•°çš„ "),a("strong",[t._v("é€‚ç”¨é¢")]),t._v(" å’Œ "),a("strong",[t._v("å¯ç»„åˆæ€§")]),t._v("ã€‚é€šè¿‡ä¾èµ–æ›´ä¸ºæŠ½è±¡çš„â€œç±»æ–‡ä»¶å¯¹è±¡â€è€Œéæ–‡ä»¶è·¯å¾„ï¼Œç»™å‡½æ•°çš„ä½¿ç”¨æ–¹å¼å¼€å¯äº†æ›´å¤šå¯èƒ½ï¼ŒStringIOã€PIPE ä»¥åŠä»»ä½•å…¶ä»–æ»¡è¶³åè®®çš„å¯¹è±¡éƒ½å¯ä»¥æˆä¸ºå‡½æ•°çš„å®¢æˆ·ã€‚")]),t._v(" "),a("p",[t._v("ä¸è¿‡ï¼Œè¿™æ ·çš„æ”¹é€ å¹¶éæ¯«æ— ç¼ºç‚¹ï¼Œå®ƒä¹Ÿä¼šç»™è°ƒç”¨æ–¹å¸¦æ¥ä¸€äº›ä¸ä¾¿ã€‚å‡å¦‚è°ƒç”¨æ–¹å°±æ˜¯æƒ³è¦ä½¿ç”¨æ–‡ä»¶è·¯å¾„ï¼Œé‚£ä¹ˆå°±å¿…é¡»å¾—è‡ªè¡Œå¤„ç†æ–‡ä»¶çš„æ‰“å¼€æ“ä½œã€‚")]),t._v(" "),a("h3",{attrs:{id:"å¦‚ä½•ç¼–å†™å…¼å®¹äºŒè€…çš„å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•ç¼–å†™å…¼å®¹äºŒè€…çš„å‡½æ•°"}},[t._v("#")]),t._v(" å¦‚ä½•ç¼–å†™å…¼å®¹äºŒè€…çš„å‡½æ•°")]),t._v(" "),a("p",[t._v("æœ‰æ²¡æœ‰åŠæ³•å³æ‹¥æœ‰â€œæ¥å—æ–‡ä»¶å¯¹è±¡â€çš„çµæ´»æ€§ï¼Œåˆèƒ½è®©ä¼ é€’æ–‡ä»¶è·¯å¾„çš„è°ƒç”¨æ–¹æ›´æ–¹ä¾¿ï¼Ÿç­”æ¡ˆæ˜¯ï¼š"),a("em",[t._v("æœ‰ï¼Œè€Œä¸”æ ‡å‡†åº“ä¸­å°±æœ‰è¿™æ ·çš„ä¾‹å­ã€‚")])]),t._v(" "),a("p",[t._v("æ‰“å¼€æ ‡å‡†åº“é‡Œçš„ "),a("code",[t._v("xml.etree.ElementTree")]),t._v(" æ¨¡å—ï¼Œç¿»å¼€é‡Œé¢çš„ "),a("code",[t._v("ElementTree.parse")]),t._v(" æ–¹æ³•ã€‚ä½ ä¼šå‘ç°è¿™ä¸ªæ–¹æ³•å³å¯ä»¥ä½¿ç”¨æ–‡ä»¶å¯¹è±¡è°ƒç”¨ï¼Œä¹Ÿæ¥å—å­—ç¬¦ä¸²çš„æ–‡ä»¶è·¯å¾„ã€‚è€Œå®ƒå®ç°è¿™ä¸€ç‚¹çš„æ‰‹æ³•ä¹Ÿéå¸¸ç®€å•æ˜“æ‡‚ï¼š")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('def parse(self, source, parser=None):\n    """*source* is a file name or file object, *parser* is an optional parser\n    """\n    close_source = False\n    # é€šè¿‡åˆ¤æ–­ source æ˜¯å¦æœ‰ "read" å±æ€§æ¥åˆ¤å®šå®ƒæ˜¯ä¸æ˜¯â€œç±»æ–‡ä»¶å¯¹è±¡â€\n    # å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆè°ƒç”¨ open å‡½æ•°æ‰“å¼€å®ƒå¹¶è´Ÿæ‹…èµ·åœ¨å‡½æ•°æœ«å°¾å…³é—­å®ƒçš„è´£ä»»\n    if not hasattr(source, "read"):\n        source = open(source, "rb")\n        close_source = True\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("ä½¿ç”¨è¿™ç§åŸºäºâ€œé¸­å­ç±»å‹â€çš„çµæ´»æ£€æµ‹æ–¹å¼ï¼Œ"),a("code",[t._v("count_vowels_v2")]),t._v(" å‡½æ•°ä¹ŸåŒæ ·å¯ä»¥è¢«æ”¹é€ å¾—æ›´æ–¹ä¾¿ï¼Œæˆ‘åœ¨è¿™é‡Œå°±ä¸å†é‡å¤å•¦ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("æ–‡ä»¶æ“ä½œæˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­ç»å¸¸éœ€è¦æ¥è§¦çš„é¢†åŸŸï¼Œä½¿ç”¨æ›´æ–¹ä¾¿çš„æ¨¡å—ã€åˆ©ç”¨ç”Ÿæˆå™¨èŠ‚çº¦å†…å­˜ä»¥åŠç¼–å†™é€‚ç”¨é¢æ›´å¹¿çš„å‡½æ•°ï¼Œå¯ä»¥è®©æˆ‘ä»¬ç¼–å†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç ã€‚")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬æœ€åå†æ€»ç»“ä¸€ä¸‹å§ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ä½¿ç”¨ pathlib æ¨¡å—å¯ä»¥ç®€åŒ–æ–‡ä»¶å’Œç›®å½•ç›¸å…³çš„æ“ä½œï¼Œå¹¶è®©ä»£ç æ›´ç›´è§‚")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.python.org/dev/peps/pep-0519/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PEP-519"),a("OutboundLink")],1),t._v(" å®šä¹‰äº†è¡¨ç¤ºâ€œæ–‡ä»¶è·¯å¾„â€çš„æ ‡å‡†åè®®ï¼ŒPath å¯¹è±¡å®ç°äº†è¿™ä¸ªåè®®")]),t._v(" "),a("li",[t._v("é€šè¿‡å®šä¹‰ç”Ÿæˆå™¨å‡½æ•°æ¥åˆ†å—è¯»å–å¤§æ–‡ä»¶å¯ä»¥èŠ‚çº¦å†…å­˜")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ "),a("code",[t._v("iter(callable, sentinel)")]),t._v(" å¯ä»¥åœ¨ä¸€äº›ç‰¹å®šåœºæ™¯ç®€åŒ–ä»£ç ")]),t._v(" "),a("li",[t._v("éš¾ä»¥ç¼–å†™æµ‹è¯•çš„ä»£ç ï¼Œé€šå¸¸ä¹Ÿæ˜¯éœ€è¦æ”¹è¿›çš„ä»£ç ")]),t._v(" "),a("li",[t._v("è®©å‡½æ•°ä¾èµ–â€œç±»æ–‡ä»¶å¯¹è±¡â€å¯ä»¥æå‡å‡½æ•°çš„é€‚ç”¨é¢å’Œå¯ç»„åˆæ€§")])]),t._v(" "),a("p",[t._v("çœ‹å®Œæ–‡ç« çš„ä½ ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæƒ³åæ§½çš„ï¼Ÿè¯·ç•™è¨€æˆ–è€…åœ¨ "),a("a",{attrs:{href:"https://github.com/piglei/one-python-craftsman",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¡¹ç›® Github Issues"),a("OutboundLink")],1),t._v(" å‘Šè¯‰æˆ‘å§ã€‚")]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/docs/python-craftsman/12-write-solid-python-codes-part-1.html"}},[t._v(">>>ä¸‹ä¸€ç¯‡ã€12.å†™å¥½é¢å‘å¯¹è±¡ä»£ç çš„åŸåˆ™ï¼ˆä¸Šï¼‰ã€‘")])],1),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/docs/python-craftsman/10-a-good-player-know-the-rules.html"}},[t._v("<<<ä¸Šä¸€ç¯‡ã€10.åšä¸€ä¸ªç²¾é€šè§„åˆ™çš„ç©å®¶ã€‘")])],1),t._v(" "),a("h2",{attrs:{id:"é™„å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™„å½•"}},[t._v("#")]),t._v(" é™„å½•")]),t._v(" "),a("ul",[a("li",[t._v("é¢˜å›¾æ¥æº: Photo by Devon Divine on Unsplash")]),t._v(" "),a("li",[t._v("æ›´å¤šç³»åˆ—æ–‡ç« åœ°å€ï¼šhttps://github.com/piglei/one-python-craftsman")])]),t._v(" "),a("p",[t._v("ç³»åˆ—å…¶ä»–æ–‡ç« ï¼š")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/piglei/one-python-craftsman",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ‰€æœ‰æ–‡ç« ç´¢å¼• [Github]"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.zlovezl.cn/articles/python-else-block-secrets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python å·¥åŒ ï¼šç¼–å†™æ¡ä»¶åˆ†æ”¯ä»£ç çš„æŠ€å·§"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.zlovezl.cn/articles/three-rituals-of-exceptions-handling/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python å·¥åŒ ï¼šå¼‚å¸¸å¤„ç†çš„ä¸‰ä¸ªå¥½ä¹ æƒ¯"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.zlovezl.cn/articles/two-tips-on-loop-writing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python å·¥åŒ ï¼šç¼–å†™åœ°é“å¾ªç¯çš„ä¸¤ä¸ªå»ºè®®"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"æ³¨è§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨è§£"}},[t._v("#")]),t._v(" æ³¨è§£")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{id:"annot1"}}),t._v("è§†æœºå™¨ç©ºé—²å†…å­˜çš„å¤šå°‘ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šæ¶ˆè€—æ¯” 2GB æ›´å¤šçš„å†…å­˜ã€‚")])])])}),[],!1,null,null,null);s.default=e.exports}}]);